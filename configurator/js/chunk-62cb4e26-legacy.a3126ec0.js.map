{"version":3,"sources":["webpack:///./node_modules/@roomle/web-sdk/lib/default-light-setting-3329a5c3.js","webpack:///./node_modules/@roomle/web-sdk/lib/image-renderer-d4f0305a.js","webpack:///./node_modules/@roomle/web-sdk/lib/scene-manager-87a03313.js","webpack:///./node_modules/@roomle/web-sdk/lib/planner-888faf54.js","webpack:///./node_modules/@roomle/web-sdk/lib/ui-callback-908e86fb.js"],"names":["DefaultLightSetting","i","t","super","this","_params","ambientLight","color","mainDirLight","position","x","y","z","secondDirLight","_mainDirectionalLight","THREE","DirectionalLight","Color","set","layers","castShadow","shadow","camera","near","far","mapSize","Vector2","visible","lookAt","Vector3","_secondDirectionalLight","_ambientLight","AmbientLight","addToScene","getSize","a","Math","max","o","top","bottom","left","right","updateProjectionMatrix","_scene","add","remove","removeFromScene","addFolder","min","step","addColor","onChange","GLTF_EXPORTER_FILE_NAME","ROTATION_TO_DETECT_SIDE","RaycastHelper","e","r","n","_offset","_mode","_camera","_raycaster","Raycaster","enableAll","_inputManager","_addInputListeners","_planeBottom","Plane","_planeFront","_planeSide","addEventListener","_findCandidate","positionRelative","_findSelection","_findHover","type","_onDragStart","_onDrag","_onDragEnd","_onRotate","rotation","_currentRotate","_intersection","onElementHit","object","dispatchEvent","_currentHover","attachment","id","intersection","_intersect","length","_currentDrag","forEach","userData","priority","setFromCamera","intersectObjects","children","hasListener","push","sort","distance","roomleId","_rootComponentId","parent","computeBoundingBox","_calculateOffset","_positionPlanes","ray","intersectPlane","_getDistanceToCamera","yaw","_currentDragOffset","clone","sub","s","Number","POSITIVE_INFINITY","constant","pitch","boundingBox","_rootComponentPosition","getCenter","_bounds","copy","applyQuaternion","getWorldQuaternion","Quaternion","_backgroundScene","Mesh","geometry","TopImageLightSetting","imageRenderer","getImageRenderer","WebGLRenderer","antialias","alpha","outputEncoding","sRGBEncoding","gammaFactor","getCameraTargetForBBox","addScalar","center","bounds","diagonal","sqrt","pow","preparePerspectiveImage","Promise","size","setSize","fog","c","background","h","disable","_placeCameraForPerspectiveImage","render","l","domElement","toDataURL","enable","image","width","height","blob","renderPerspectiveImage","aspect","fov","rotateY","rotateX","translateZ","prepareTopImage","showDimensions","autoClear","OrthographicCamera","mask","d","clearDepth","_","CameraControl2D","_scale","_state","_size","_center","_lastPosition","_zoomPosition","_lastZoom","_zoomSpeed","_cameraZoom","_initCamera","PlaneGeometry","PI","_plane","MeshStandardMaterial","_domHelper","getClientDimensions","_cameraPosition","_inputListeners","key","fun","_locked","_move","event","stopPropagation","preventDefault","_zoomTo","_update","Date","now","getInputPosition","intersectObject","pop","point","subVectors","divideScalar","zoom","animateCamera","abs","MathUtils","lerp","KEYBOARD_ROTATION_ANGLE","CameraControlFirstPerson","_rotationSpeed","_keyMap","Map","minPolarAngle","maxPolarAngle","PerspectiveCamera","_width","_height","_cameraRotation","_pitch","_yaw","Euler","setFromEuler","window","_gamepadConnected","bind","_gamepadDisconnected","startButtonPressListener","cancelAnimationFrame","_listenerLoopAnimationFrame","requestAnimationFrame","buttonPressListener","navigator","getGamepads","_checkRightStick","_checkLeftStick","_checkButtons","_processKeyMap","axes","_rotateHorizontal","_rotateVertical","buttons","pressed","getCamera","quaternion","slerp","setRotationFromQuaternion","_onKeyChanged","_down","_up","_downPosition","_position","setTimeout","_onLongDown","_orbit","_moveForward","_orbitPosition","keyCode","_processUpDown","get","element","Document","body","multiplyScalar","clientWidth","clientHeight","_saveYawAndPitch","SceneManager","_maxAnisotropy","_clock","Clock","_delta","_renderListener","_stopRendering","_forceRender","_lastChange","_running","_onAfterRender","_creator_","_canvasID","createCameraControl","_addCameraControlListener","_setupScene","document","_tabVisible","_requestRender","_getInputManager","_lifeCycleManager","_cameraControl","cleanUp","removeEventListener","cameraControlChanged","_renderer","_pixotron","needsUpdate","getDelta","_animateCamera","_renderLoopFunction","onBeforeRender","_statsHelper","updateRenderInfo","info","autoShadowsClear","autoSAOClear","_renderTarget","blit","clear","TWEEN","update","_lightSetting","getTargetPosition","_environment","needsCamera","updateCamera","Scene","_initData","colors","DEFAULT_BACKGROUND","DEG2RAD","format","RGBAFormat","minFilter","NearestFilter","magFilter","floor","devicePixelRatio","WebGLRenderTarget","texture","encoding","setPixelRatio","shadowMap","enabled","PCFSoftShadowMap","capabilities","getMaxAnisotropy","classList","appendChild","addEvents","_environmentLoader","setRendererAndScene","registerEnvironmentChangedCallback","sceneChanged","getPixelRatio","console","warn","_isPartOfScene","renderLists","dispose","PIXOTRON","Pixotron","getPixotronParams","_pixotronUtil","setPixotron","getBakedShadowParams","setLoadedCallback","_staticItemLoader","loadGLTF","then","_setCamera","loadGLB","Box3","setFromObject","updateToBounds","innerWidth","innerHeight","updateAndReset","disableDebugGUI","createElement","innerText","head","_scriptLoader","fetch","_guiLoaded","error","showGUI","_addGUIListener","__folders","Object","keys","__controllers","onFinishChange","_guiParamChanged","default","removeEvents","pause","_onWindowResize","_onKeyDown","_onKeyUp","environment","load","_setEnvironment","resolve","lights","loadFromObject","all","url","loadFromURL","json","loadFromJSON","ls","createDynamicLightSettingSource","Error","_updateBounds","getBounds","updateEnvironment","needsBounds","updateBounds","Sphere","getBoundingSphere","offset","JSON","parse","stringify","createCamera","prototype","PlannerLightSetting","hemiLight","direction","_mainDirLight","target","radius","normalize","updateMatrixWorld","_hemiLight","SceneEventInfo","planElementViewModel","resetCamera","PlannerSceneEventHandler","_debug","_raycastHelper","_plannerSelectionHandler","cancelSelection","getSelectionMode","_addPlanObjectHandlers","getBoundingBox","getId","_addPlanElementHandlers","_clickElement","_dragStart","_drag","_dragEnd","_hoverOn","_hoverOff","_rotate","check","_setCursor","_hoveredObject","_draggedObject","isSelected","setCamera","setScene","getSelectedIds","setSelectionMode","_planViewModel","_plannerKernelAccess","planInteractionHandler","kernelContainer","PlanObjectPtrList","getPosition","push_back","getPlanObjectForId","getPlanObject","moveObjectsBy","moveElementTo","getPlanElement","setObjectRotation","PlanElementViewModel","_coreReference","delete","_container","Object3D","_boundingBox","_generateBoundingBox","customColor","getType","value","_object","hidePreviewBox","find","material","_selectionMesh","BoxGeometry","opacity","transparent","name","receiveShadow","_primaryColor","PlanObjectViewModel","StaticPlanObjectViewModel","_addStaticItem","_rapiItem","_glbUrl","scaleable","flipX","flipY","colorable","label","ConfiguratorPlanObjectViewModel","getConfigurationRuntimeId","PlannerSceneManager","HSP","_staticItemGuard","_configurableItemGuard","_roomlePlannerCallback","_plannerMeshGenerator","maxAnisotropy","maxTextures","_plannerSceneEventHandler","debug","getGLBUrl","_highlight","_onSelectionChange","_roomlePlannerUiCallback","onSelectionCancel","lock","unlock","addPlannerListener","setMaterialLoadedListener","tryToMergeComponents","onbeforeunload","clearScene","item","getRapiItem","configurationRuntimeId","getCatalogItemId","kernelInstance","getHashOfConfiguration","_rapiAccess","getItem","rootComponentId","getConfiguration","configuration","getConfigurationData","saveConfiguration","getComponent","component","onSelectionChange","moc","_addSky","wallMeshes","_plannerInputManager","setMode","hasSavedState","resetCameraToState","resetCameraPositionToStart","resetToState","getWorldDirection","lengthSq","asin","getStaticPlanObjectViewModels","has","getItems","Array","from","catalogItemLoaded","setRapiItem","_staticItemsLoaded","onItemsLoaded","_planId","_localStorageHelper","_loadGLTF","_preloadScene","endPlanConstruction","loadStaticPlanObjects","setPlannerSceneEventHandler","setGeometriesMergedListener","setPlanViewModel","roughness","metalness","_setCeiling","reset","wait","_itemsLoaded","getCorePlan","getShadowPass","setShadowRecieverBBox","onCompletelyLoaded","end","getConstructionGroup","getCeilingGroup","_onPlanChanged","GLTFExporter","addItem","binary","embedImages","forceIndices","_loadGLB","sceneCleared","_sky","Sky","scale","setScalar","uniforms","turbidity","rayleigh","luminance","mieCoefficient","mieDirectionalG","SphereBufferGeometry","MeshBasicMaterial","cos","sin","sunPosition","updateSunPosition","_changeCameraControl","_updateCamera","onCameraChanged","getPerspectiveOffsetCamera","switchTo2D","switchTo3D","switchToFirstPerson","getObject","highlightObjects","destroy","removeMaterialLoadedListener","removeGeometriesMergedListener","saoparams","intensity","occlusionWorldRadius","smoothTransition","samplesPerFrame","bias","numSamples","accumulative","falloff","shadowparams","shadowMapResolution","shadowRadius","shadowQuality","enableAccumulation","shadowBiasMultiplier","nearPlane","farPlane","side","FrontSide","outlineparams","highlightColor","SELECTION","edgeStrength","transparency","edgeThickness","numSamplesPerFrame","bShadowMaterial","darkness","lightDirection","lightSolidAngle","yPosition","extRef","jsObject","constructComponents","removeElement","getKernelObject","expandByObject","getContainer","groupObjects","rotateGroupBy","onPlanChanged","materialQueue","finished","async","_calculateBoundingBoxOfAllMeshes","OFFSET","RoomlePlanner","_hscInstance","_glbInstance","_kernelAccessCallback","addListener","_backstack","init","_sceneManager","deleteSelection","rotateSelection","start","setDomElement","resume","_preloadPlanId","setOverrides","_initPromiseCallback","_plan","_planInteractionHandler","loadPlanXML","planXMLLoaded","onTotalFloorAreaChanged","getPlan","getTotalFloorArea","bringIntoForeground","planObjects","_globalInitData","exportGLB","importGLB","_threeLoader","_kernelReadyCallback","mode","stats","preload","showStats","enableHD","map","showBenchmarks","_singlePromiseFactory","create","Configurator","boot","getConfiguratorKernel","getApi","HSC","GlbViewer","GLB","loadPlan","updateSize","onBackStackChanged","closeHSC","pauseKernelCallbacks","current","back","backTo","getCurrentSkin","getRootPlanComponentIdFromObjectId","_dataSyncer","syncCatalog","planModelViewHelper","insertItemList","_createKernelItem","addPlanObjectFromItem","CatalogItemPtrList","addPlanObjects","insertItems","getScene","updateScene","getCameraOffset","setCameraOffset","CatalogItem","depth","layer","flipable","getPlanModelViewHelper","getPlanOverview","objects","WallPlanElementViewModel","addMesh","FloorPlanElementViewModel","CeilingPlanElementViewModel","PlanViewModel","_configurablePlanObjectViewModels","_staticPlanObjectViewModels","_constructionGroup","Group","_ceilingGroup","_getKernelAccess","lookup","clearReference","getObjectType","edit","addPlanObjectHandlers","addWallHandlers","_getPlanObjectViewModelForRuntimeId","parentObjectId","addRootComponent","_components","generateMesh","setMaterial","Editor3dComponentCreated","PlannerKernelAccess","dockComponent","getMesh","generateGeometry","_generateMesh","PlanElementType","OBJECT","hasConfiguration","indexOf","splice","_plannerKernelCallbackListener","Set","addMeta","isWasm","_useWASM","_kernelPath","_loadSuccess","_loadError","_kernelContainer","RoomleCore","PlanInteractionHandler","DrawingType","CLICK_PER_CLICK","onPlanInteractionHandlerCreated","isReady","registerCallbacks","onPlannerKernelIsReady","_createPlanInteractionHandler","_kernelInstance","onConfiguratorKernelIsReady","isProduction","__RML__DEBUG__","ConfiguratorKernel","PlannerKernelContainer","PlanModelViewHelper","_rapiItemToKernelItem","count","needsRapiItem","orderable","detailType","cleanUpCallbacks","unregisterPlannerCallback","registerPlannerCallback","Request","requestAsset","arrayBuffer","addMeshCorto","Uint8Array","catch","_configuratorKernelCallbackListener","planElementRemoved","removePlanObjectFromScene","_decoupleReferences","setReference","_coupleReferences","handlerSwitchedPlans","planBoundsChanged","planCompletelyLoaded","requestMesh3d","addPlanElementViewModel","addPlanObjectToScene","WALL","FLOOR","CEILING","setPrimaryColor","PRIMARY","planElementChanged","planObjectConfigurationLoaded","beginPlanConstruction","addPlanMesh","EMSReference","Backstack","_initialStack","_callbacks","_canvasStack","_setInitialStack","_resetCanvasStack","_setCallbacks","querySelectorAll","contains","onCloseHSC","PlannerSelectionHandlerEvent","INJECTABLES","_wallMeshes","_defaultMaterial","envMap","setEnvMap","_generateGeometry","_previewMaterial","_checkWallMaterial","_assignMaterial","_materialLoaded","changeMaterialOfMesh","getSourceType","materialId","_assignItem","catalogItemId","_assignRGB","rgbValue","renderOrder","clearWallMeshes","arguments","_selectionMode","_selectedPlanElementViewModels","_checkStandard","_checkMulti","Planner","setup","_context","_planner","getMain","PromiseQueue","_waitingPromises","_errorCallback","allSettled","status","reason","registerCallback","_callback","MeshGenerator","_maxTextures","_textureLoader","TextureLoader","_cacheHolder","geometryCache","Geometry","faceVertexUvs","vertices","m","u","p","g","faces","Face3","transmission","mesh","materialCache","startsWith","_loadBenchmarkTextures","getMaterial","_loadTextures","mmWidth","mmHeight","textures","getTexturesOf","_createMaterial","_loadMaterial","topImage","anisotropy","wrapS","RepeatWrapping","wrapT","repeat","MeshPhysicalMaterial","UiCallback","_isMute","enumerable","writable","Proxy","_setMute","substr"],"mappings":"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","file":"js/chunk-62cb4e26-legacy.a3126ec0.js","sourcesContent":["import{f as getGUI}from\"./rapi-access-413632b4.js\";import{L as LightSetting}from\"./pixotron-2f79bd46.js\";class DefaultLightSetting extends LightSetting{constructor(i,t){super(i,t),this._params={ambientLight:{color:\"#ffffff\"},mainDirLight:{position:{x:-3,y:4,z:4},color:\"#ffffff\"},secondDirLight:{position:{x:3,y:4,z:3},color:\"#ffffff\"}},this._mainDirectionalLight=new THREE.DirectionalLight(new THREE.Color(this._params.mainDirLight.color),.8),this._mainDirectionalLight.position.set(this._params.mainDirLight.position.x,this._params.mainDirLight.position.y,this._params.mainDirLight.position.z),this._mainDirectionalLight.layers.set(1),this._mainDirectionalLight.castShadow=!0,this._mainDirectionalLight.shadow.camera.near=.1,this._mainDirectionalLight.shadow.camera.far=100,this._mainDirectionalLight.shadow.mapSize=new THREE.Vector2(1024,1024),this._mainDirectionalLight.visible=!0,this._mainDirectionalLight.lookAt(new THREE.Vector3(0,0,0)),this._secondDirectionalLight=new THREE.DirectionalLight(new THREE.Color(this._params.secondDirLight.color),.2),this._secondDirectionalLight.position.set(this._params.secondDirLight.position.x,this._params.secondDirLight.position.y,this._params.secondDirLight.position.z),this._secondDirectionalLight.layers.set(1),this._secondDirectionalLight.castShadow=!1,this._secondDirectionalLight.shadow.camera.near=.1,this._secondDirectionalLight.shadow.camera.far=100,this._secondDirectionalLight.shadow.mapSize=new THREE.Vector2(1024,1024),this._secondDirectionalLight.visible=!0,this._secondDirectionalLight.lookAt(new THREE.Vector3(0,0,0)),this._ambientLight=new THREE.AmbientLight(new THREE.Color(this._params.ambientLight.color),.5),this._ambientLight.layers.set(1),this.addToScene()}needsBounds(){return!0}updateBounds(i){const t=i.getSize(new THREE.Vector3),a=Math.max(Math.max(t.x,t.y),t.z)+1,o=a/2;this._mainDirectionalLight.shadow.camera.top=o,this._mainDirectionalLight.shadow.camera.bottom=-o,this._mainDirectionalLight.shadow.camera.left=-o,this._mainDirectionalLight.shadow.camera.right=o,this._mainDirectionalLight.shadow.camera.near=.01,this._mainDirectionalLight.shadow.camera.far=4*a,this._mainDirectionalLight.shadow.camera.updateProjectionMatrix(),this._secondDirectionalLight.shadow.camera.top=o,this._secondDirectionalLight.shadow.camera.bottom=-o,this._secondDirectionalLight.shadow.camera.left=-o,this._secondDirectionalLight.shadow.camera.right=o,this._secondDirectionalLight.shadow.camera.near=.01,this._secondDirectionalLight.shadow.camera.far=4*a,this._secondDirectionalLight.shadow.camera.updateProjectionMatrix()}addToScene(){this._scene.add(this._mainDirectionalLight),this._scene.add(this._secondDirectionalLight),this._scene.add(this._ambientLight)}removeFromScene(){this._scene.remove(this._mainDirectionalLight),this._scene.remove(this._secondDirectionalLight),this._scene.remove(this._ambientLight)}reload(){this.removeFromScene(),this.addToScene()}showGUI(){let i=getGUI();if(i){if(this._ambientLight){let t=i.addFolder(\"Ambient Light\");t.add(this._ambientLight,\"visible\"),t.add(this._ambientLight,\"intensity\").min(0).max(5).step(.1),t.addColor(this._params.ambientLight,\"color\").onChange(i=>this._ambientLight.color=new THREE.Color(i))}if(this._mainDirectionalLight){let t=i.addFolder(\"Main Directional Light\");t.add(this._mainDirectionalLight,\"visible\"),t.add(this._mainDirectionalLight,\"intensity\").min(0).max(10).step(.1),t.add(this._mainDirectionalLight,\"castShadow\"),t.addColor(this._params.mainDirLight,\"color\").onChange(i=>this._mainDirectionalLight.color=new THREE.Color(i)),t.add(this._mainDirectionalLight.position,\"x\").min(-10).max(10).step(.1).onChange(()=>this._mainDirectionalLight.lookAt(new THREE.Vector3(0,0,0))),t.add(this._mainDirectionalLight.position,\"y\").min(-10).max(50).step(.1).onChange(()=>this._mainDirectionalLight.lookAt(new THREE.Vector3(0,0,0))),t.add(this._mainDirectionalLight.position,\"z\").min(-10).max(10).step(.1).onChange(()=>this._mainDirectionalLight.lookAt(new THREE.Vector3(0,0,0)))}if(this._secondDirectionalLight){let t=i.addFolder(\"Second Directional Light\");t.add(this._secondDirectionalLight,\"visible\"),t.add(this._secondDirectionalLight,\"intensity\").min(0).max(10).step(.1),t.add(this._secondDirectionalLight,\"castShadow\"),t.addColor(this._params.mainDirLight,\"color\").onChange(i=>this._mainDirectionalLight.color=new THREE.Color(i)),t.add(this._secondDirectionalLight.position,\"x\").min(-10).max(10).step(.1).onChange(()=>this._mainDirectionalLight.lookAt(new THREE.Vector3(0,0,0))),t.add(this._secondDirectionalLight.position,\"y\").min(-10).max(50).step(.1).onChange(()=>this._mainDirectionalLight.lookAt(new THREE.Vector3(0,0,0))),t.add(this._secondDirectionalLight.position,\"z\").min(-10).max(10).step(.1).onChange(()=>this._mainDirectionalLight.lookAt(new THREE.Vector3(0,0,0)))}}}}export{DefaultLightSetting as D};\n//# sourceMappingURL=default-light-setting-3329a5c3.js.map\n","import{S as vectorIsZero,T as disposeMesh,t as toRadiant,f as getGUI}from\"./rapi-access-413632b4.js\";import{E as EventDispatcher,L as LightSetting}from\"./pixotron-2f79bd46.js\";import{D as DefaultLightSetting}from\"./default-light-setting-3329a5c3.js\";var GLTF_EXPORTER_FILE_NAME=\"static/GLTFExporter-86edae059df3a219.js\";const ROTATION_TO_DETECT_SIDE=toRadiant(30);class RaycastHelper extends EventDispatcher{constructor(e,t,r,n){super(),this._offset=new THREE.Vector3(0,0,0),this._mode=void 0===n?1:n,this._scene=e,this._camera=t,this._raycaster=new THREE.Raycaster,this._raycaster.layers.enableAll(),this._inputManager=r,this._addInputListeners(r),this._planeBottom=new THREE.Plane(new THREE.Vector3(0,1,0)),this._planeFront=new THREE.Plane(new THREE.Vector3(0,0,1)),this._planeSide=new THREE.Plane(new THREE.Vector3(1,0,0))}_addInputListeners(e){e.addEventListener(3,e=>{this._findCandidate(e.positionRelative)},this),e.addEventListener(5,e=>{this._findSelection(e.positionRelative)},this),e.addEventListener(6,e=>{this._findHover(e.positionRelative,e.type)},this),e.addEventListener(0,e=>{this._onDragStart(e.positionRelative)},this),e.addEventListener(1,e=>{this._onDrag(e.positionRelative)},this),e.addEventListener(2,e=>{this._onDragEnd(e.positionRelative)},this),e.addEventListener(9,e=>{this._onRotate(e.positionRelative,e.rotation)},this),e.addEventListener(10,()=>{this._currentRotate=null},this)}_findCandidate(e){this._intersection(e)&&this._inputManager.onElementHit()}_findSelection(e){let t=this._intersection(e);t?t&&t.object.dispatchEvent({type:\"select\"}):this.dispatchEvent(3)}_findHover(e,t){const r=this._intersection(e);!r&&this._currentHover?(this._currentHover.dispatchEvent({type:\"hover_off\",attachment:{type:t}}),this._currentHover=null):r&&(this._currentHover&&this._currentHover.id!==r.object.id&&(this._currentHover.dispatchEvent({type:\"hover_off\",attachment:{type:t}}),this._currentHover=null),this._currentHover?this._currentHover.dispatchEvent({type:\"hover_move\",attachment:{intersection:r,type:t}}):(this._currentHover=r.object,this._currentHover.dispatchEvent({type:\"hover_on\",attachment:{intersection:r,type:t}})))}_intersection(e){const t=this._intersect(e);if(t.length<=0)return null;let r=t[0];return t.length>1&&this._currentHover&&this._currentDrag&&this._currentDrag.id!==this._currentHover.id&&t.forEach(e=>{e.object.id===this._currentHover.id&&e.object.userData.priority===this._currentHover.userData.priority&&r.object.userData.priority<=e.object.userData.priority&&(r=e)}),r}_intersect(e){this._raycaster.setFromCamera(e,this._camera);const t=[];return this._raycaster.intersectObjects(this._scene.children,!0).forEach(e=>{e.object.userData.hasListener&&t.push(e)}),t.length>=0?t.sort((e,t)=>e.object.userData.priority!==t.object.userData.priority?t.object.userData.priority-e.object.userData.priority:e.distance-t.distance):[]}_onDragStart(e){let t=this._intersection(e);if(!t&&!this._currentDrag)return;if(t&&t.object.userData.roomleId===this._rootComponentId)return;!this._currentDrag&&t&&(this._currentDrag=t.object,this._currentDrag.dispatchEvent({type:\"drag_start\"}));let r=this._currentDrag.parent;r&&r.computeBoundingBox&&(r.computeBoundingBox(),this._calculateOffset(r)),this._positionPlanes(r)}_onDrag(e){if(!this._currentDrag)return;this._raycaster.setFromCamera(e,this._camera);let t,r=new THREE.Vector3(0,0,-5);this._raycaster.ray.intersectPlane(this._planeBottom,r);let n=this._getDistanceToCamera(r),a=this._camera.userData.yaw;if(0===this._mode)this._currentDragOffset||(this._currentDragOffset=r.clone().sub(this._currentDrag.parent.position.clone())),t=r.clone().sub(this._currentDragOffset),t.y=this._currentDrag.parent.position.y;else{let e=new THREE.Vector3(0,0,0),i=new THREE.Vector3(0,0,0);this._raycaster.ray.intersectPlane(this._planeFront,e),this._raycaster.ray.intersectPlane(this._planeSide,i);let o=this._getDistanceToCamera(i),s=this._getDistanceToCamera(e);a>=-ROTATION_TO_DETECT_SIDE&&a<=ROTATION_TO_DETECT_SIDE?t=n<s?r.clone():e.clone():n<s&&n<o?t=r.clone():s<n&&s<o?t=e.clone():o<n&&o<s&&(t=i.clone()),t.sub(this._offset)}this._currentDrag.dispatchEvent({type:\"drag\",attachment:{position:t}})}_getDistanceToCamera(e){let t=e.clone().sub(this._camera.position).length();return vectorIsZero(e)&&(t=Number.POSITIVE_INFINITY),t}_onDragEnd(e){this._currentDrag&&(this._currentDrag.dispatchEvent({type:\"drag_end\",attachment:{position:e}}),this._currentDrag=null,this._currentDragOffset=null)}_onRotate(e,t){if(!this._currentRotate){let t=this._intersection(e);if(!t)return;this._currentRotate=t.object}this._currentRotate.dispatchEvent({type:\"rotate\",attachment:{rotation:t}})}_positionPlanes(e){0===this._mode?(this._planeBottom.constant=0,this._camera.userData&&this._camera.userData.pitch&&this._camera.userData.pitch<0&&(this._planeBottom.constant=-3)):e&&e.boundingBox&&this._rootComponentPosition&&(this._planeBottom.constant=-e.boundingBox.getCenter(new THREE.Vector3).y-this._rootComponentPosition.y,this._planeSide.constant=2*-e.boundingBox.getSize(new THREE.Vector3).x+e.boundingBox.getCenter(new THREE.Vector3).x,this._camera.userData.yaw>0&&(this._planeSide.constant*=-1),this._bounds&&(this._planeFront.constant=this._bounds.z/2+e.boundingBox.getCenter(new THREE.Vector3).z))}_calculateOffset(e){e&&e.boundingBox&&(this._offset.copy(e.boundingBox.getCenter(new THREE.Vector3)),this._offset.applyQuaternion(e.getWorldQuaternion(new THREE.Quaternion)))}update(e,t,r){if(e&&(this._bounds=e),t&&(this._rootComponentPosition=t),r){this._backgroundScene=r;let e=this._backgroundScene.children[0];e instanceof THREE.Mesh&&e.geometry.computeBoundingBox()}}clear(){this._currentDrag&&disposeMesh(this._currentDrag),this._currentHover&&disposeMesh(this._currentHover)}enableDragIn(e){this._currentDrag=e}setRootComponentId(e){this._rootComponentId=e}setCamera(e){this._camera=e}setScene(e){this._scene=e}}class TopImageLightSetting extends LightSetting{constructor(e,t){super(e,t),this._params={ambientLight:{color:\"#ffffff\"}},this._ambientLight=new THREE.AmbientLight(new THREE.Color(this._params.ambientLight.color),1.2),this._ambientLight.layers.set(1),this.addToScene()}needsBounds(){return!1}addToScene(){this._scene.add(this._ambientLight)}removeFromScene(){this._scene.remove(this._ambientLight)}reload(){this.removeFromScene(),this.addToScene()}showGUI(){let e=getGUI();if(e&&this._ambientLight){let t=e.addFolder(\"Ambient Light\");t.add(this._ambientLight,\"visible\"),t.add(this._ambientLight,\"intensity\").min(0).max(5).step(.1),t.addColor(this._params.ambientLight,\"color\").onChange(e=>this._ambientLight.color=new THREE.Color(e))}}}let imageRenderer=null;const getImageRenderer=()=>(imageRenderer||(imageRenderer=new THREE.WebGLRenderer({antialias:!0,alpha:!0}),imageRenderer.outputEncoding=THREE.sRGBEncoding,imageRenderer.gammaFactor=2.2),imageRenderer),getCameraTargetForBBox=(e,t=0)=>{const r=e.getSize(new THREE.Vector3);return r.addScalar(t),{center:e.getCenter(new THREE.Vector3),bounds:r,diagonal:Math.sqrt(Math.pow(r.x,2)+Math.pow(r.y,2)+Math.pow(r.z,2))}},preparePerspectiveImage=(e,t,r,n={})=>new Promise(a=>{const{size:i=1024}=n,o=getImageRenderer();o.setSize(i,i);const s=e.fog?e.fog.clone():null,c=e.background?e.background.clone():null;e.background=null,e.fog=null;let h=new DefaultLightSetting(e);t.layers.disable(2),t.layers.disable(5),_placeCameraForPerspectiveImage(t,r,-20,-30),o.render(e,t);const l=o.domElement.toDataURL();t.layers.enable(2),e.background=c,e.fog=s,h.removeFromScene(),a({image:l,width:i,height:i,blob:null})}),renderPerspectiveImage=(e,t,r,n,a,i)=>new Promise(n=>{i||(i=1024);const a=getImageRenderer();a.setSize(i,i);const o=e.fog?e.fog.clone():null,s=e.background?e.background.clone():null;e.background=null,e.fog=null,t.layers.disable(2),t.layers.disable(5),r?_placeCameraForPerspectiveImage(t,r,-20,-30):(t.aspect=1,t.updateProjectionMatrix()),a.render(e,t);const c=a.domElement.toDataURL();t.layers.enable(2),e.background=s,e.fog=o,n({image:c,width:i,height:i,blob:null})}),_placeCameraForPerspectiveImage=(e,t,r,n)=>{e.far=1e3,e.fov=15,e.aspect=1,e.position.copy(t.center),e.rotation.set(0,0,0),e.rotateY(toRadiant(n)),e.rotateX(toRadiant(r)),e.translateZ(3.8*t.diagonal),e.updateProjectionMatrix()},prepareTopImage=(e,t,r,n={})=>{const{showDimensions:a=!1}=n;return new Promise(n=>{const i=getImageRenderer();i.autoClear=!1;let o=new THREE.OrthographicCamera(-r.bounds.x/2,r.bounds.x/2,r.bounds.z/2,-r.bounds.z/2,.5);o.position.copy(r.center),o.rotateX(toRadiant(-90)),o.translateZ(r.bounds.y+1),o.far=o.position.y+.5,o.layers.mask=65535;let s=200*r.bounds.x,c=200*r.bounds.z;if(s>4096||c>4096){let e=0;s>4096?e=s/4096:c>4096&&(e=c/4096),s/=e,c/=e}i.setSize(s,c);let h=e.fog?e.fog.clone():null,l=e.background?e.background.clone():null;e.background=null,e.fog=null;let d=a?new TopImageLightSetting(e):new DefaultLightSetting(e);o.layers.disable(2),o.layers.disable(5),a?o.layers.enable(6):o.layers.disable(6),i.render(e,o),t&&(i.clearDepth(),i.render(t,o));let _=i.domElement.toDataURL();o.layers.enable(2),o.layers.enable(5),e.background=l,e.fog=h,d.removeFromScene(),n({image:_,width:s,height:c,blob:null})})};export{GLTF_EXPORTER_FILE_NAME as G,RaycastHelper as R,prepareTopImage as a,getCameraTargetForBBox as g,preparePerspectiveImage as p,renderPerspectiveImage as r};\n//# sourceMappingURL=image-renderer-d4f0305a.js.map\n","import{t as toRadiant,r as position3VectorsAreEqual,a5 as rotationQuaternionsAreEqual,a6 as getDelta,s as position2VectorsAreEqual,_ as __decorate,i as inject,d as dispose,f as getGUI,e as DynamicLightSettingLoader,R as RoomleComponentFactoryInitializer,a7 as DynamicQualitySettingLoader}from\"./rapi-access-413632b4.js\";import{e as CameraControl,k as MIN_MOVE_DISTANCE,D as DynamicLightSetting,C as CameraControl3D,c as PixotronUtil,B as BakedShadowEnvironment,h as DAT_GUI_FILE_NAME,d as DynamicEnvironmentSettingLoader}from\"./pixotron-2f79bd46.js\";class CameraControl2D extends CameraControl{constructor(t,e,i){super(t,e,i),this._scale=1,this._state=0,this._size=20,this._center=new THREE.Vector3,this._raycaster=new THREE.Raycaster,this._lastPosition=new THREE.Vector2,this._zoomPosition=new THREE.Vector3,this._lastZoom=0,this._zoomSpeed=Math.pow(.95,2),this._cameraZoom=1,this._initCamera(i||new THREE.Vector3(0,10,0));let s=new THREE.PlaneGeometry(1e3,1e3);s.rotateX(-Math.PI/2),this._plane=new THREE.Mesh(s,new THREE.MeshStandardMaterial)}_getCamera(){return this._camera||this._initCamera(new THREE.Vector3(0,10,0)),this._camera}_initCamera(t){let{x:e,y:i}=this._domHelper.getClientDimensions(),s=e/i*this._size,n=this._size;this._camera=new THREE.OrthographicCamera(s/-2,s/2,n/2,n/-2,1,1e3),this._camera.position.copy(t),this._cameraPosition=t,this._camera.lookAt(new THREE.Vector3(0,0,0))}updateCamera(){let{x:t,y:e}=this._domHelper.getClientDimensions(),i=t/e*this._size,s=this._size;this._camera.left=i/-2,this._camera.right=i/2,this._camera.top=s/2,this._camera.bottom=s/-2,this._camera.updateProjectionMatrix()}_initInputListener(){this._inputListeners.push({key:3,fun:t=>{this._locked||(this._state=1,this._lastPosition.set(t.position.x,t.position.y),this.dispatchEvent(0))}}),this._inputListeners.push({key:6,fun:t=>{1!==this._state||this._locked||(this._move(new THREE.Vector2(t.position.x,t.position.y),t.type),this.dispatchEvent(1))}}),this._inputListeners.push({key:4,fun:t=>{1===this._state&&this.dispatchEvent(2),this._state=0}}),this._inputListeners.push({key:7,fun:t=>{t.event&&(t.event.stopPropagation(),t.event.preventDefault()),this._scale/=this._zoomSpeed,this._zoomTo(t.position,1),this._update()}}),this._inputListeners.push({key:8,fun:t=>{t.event&&(t.event.stopPropagation(),t.event.preventDefault()),this._scale*=this._zoomSpeed,this._zoomTo(t.position,-1),this._update()}})}_zoomTo(t,e){if(Date.now()-this._lastZoom>200){if(e>0||this._cameraZoom>=1){const e=this.getInputPosition(t);this._raycaster.setFromCamera(e,this._camera);const i=this._raycaster.intersectObject(this._plane);if(i.length<=0)return;const s=i.pop().point;this._zoomPosition.copy(s)}else this._zoomPosition.copy(this._center);this._cameraPosition.x=this._zoomPosition.x,this._cameraPosition.z=this._zoomPosition.z}this._lastZoom=Date.now()}_move(t,e){let i=new THREE.Vector2;i.subVectors(this._lastPosition,t),i.divideScalar(100),this._cameraPosition.x+=i.x*(2===e?1.1:1),this._cameraPosition.z+=i.y*(2===e?1.1:1),this._lastPosition.copy(t)}updateToBounds(t,e){let{x:i,y:s}=this._domHelper.getClientDimensions(),n=i/s;this._size=Math.max(t.x,t.z);let a=this._size,r=this._size;n>1?a=this._size*n:r=this._size*(s/i),this._center.copy(e),this._camera.left=a/-2,this._camera.right=a/2,this._camera.top=r/2,this._camera.bottom=r/-2,this._camera.zoom=1,this._camera.position.set(this._center.x,10,this._center.z),this._cameraPosition.copy(this._camera.position)}_update(t){this._scale=Math.min(this._scale,5),this._scale=Math.max(this._scale,.8),this._cameraZoom=this._scale,this._camera.updateProjectionMatrix()}animateCamera(t){return!(!super.animateCamera(t)&&Math.abs(this._cameraZoom-this._camera.zoom)<=.01||(this._camera.zoom=THREE.MathUtils.lerp(this._camera.zoom,this._cameraZoom,10*t),0))}}const KEYBOARD_ROTATION_ANGLE=Math.PI/4;class CameraControlFirstPerson extends CameraControl{constructor(t,e,i,s){super(t,e,i),this._state=0,this._rotationSpeed=1,this._keyMap=new Map,this.minPolarAngle=toRadiant(-60),this.maxPolarAngle=toRadiant(60),this._camera=s||new THREE.PerspectiveCamera,this._camera.fov=70,this._camera.aspect=this._width/this._height,this._camera.near=.1,this._camera.far=100,this._camera.updateProjectionMatrix(),this._camera.layers.set(3),this._camera.layers.enable(1),this._camera.layers.enable(2),this._camera.layers.enable(5),this._camera.layers.enable(4),i?this._camera.position.set(i.x,1.5,i.z):this._camera.position.set(0,1.5,0),this._cameraPosition=new THREE.Vector3,this._cameraPosition.copy(this._camera.position),this._cameraRotation=new THREE.Quaternion,this._pitch=0,this._yaw=0;let n=new THREE.Euler(-this._pitch,this._yaw,0,\"ZYX\");this._cameraRotation.setFromEuler(n),window.addEventListener(\"gamepadconnected\",this._gamepadConnected.bind(this)),window.addEventListener(\"gamepaddisconnected\",this._gamepadDisconnected.bind(this))}_gamepadConnected(t){this.startButtonPressListener()}_gamepadDisconnected(t){window.cancelAnimationFrame(this._listenerLoopAnimationFrame)}startButtonPressListener(){this._listenerLoopAnimationFrame=window.requestAnimationFrame(()=>{this.buttonPressListener()})}buttonPressListener(){let t=navigator.getGamepads()[0];this._checkRightStick(t),this._checkLeftStick(t),this._checkButtons(t),this._processKeyMap(this._keyMap,.001),this.startButtonPressListener()}_checkRightStick(t){let e=t.axes[2],i=t.axes[3];Math.abs(e)>.2&&(this._rotateHorizontal(.01*KEYBOARD_ROTATION_ANGLE*e),this._update(),this.dispatchEvent(1)),Math.abs(i)>.2&&(this._rotateVertical(.01*KEYBOARD_ROTATION_ANGLE*i),this._update(),this.dispatchEvent(1))}_checkLeftStick(t){let e=t.axes[0],i=t.axes[1];Math.abs(i)>.2?i<0?this._keyMap.set(87,!0):this._keyMap.set(83,!0):t.buttons&&t.buttons[12]&&t.buttons[12].pressed?this._keyMap.set(87,!0):t.buttons&&t.buttons[13]&&t.buttons[13].pressed?this._keyMap.set(83,!0):(this._keyMap.set(87,!1),this._keyMap.set(83,!1)),Math.abs(e)>.2?e<0?this._keyMap.set(65,!0):this._keyMap.set(68,!0):(this._keyMap.set(65,!1),this._keyMap.set(68,!1))}_checkButtons(t){t.buttons&&t.buttons[6]&&t.buttons[6].pressed?this._keyMap.set(16,!0):this._keyMap.set(16,!1),t.buttons&&t.buttons[14]&&t.buttons[14].pressed?(this._keyMap.set(37,!0),this.dispatchEvent(1)):this._keyMap.set(37,!1),t.buttons&&t.buttons[15]&&t.buttons[15].pressed?(this._keyMap.set(39,!0),this.dispatchEvent(1)):this._keyMap.set(39,!1)}animateCamera(t){let e=this._cameraPosition,i=this._cameraRotation,s=this.getCamera(),n=position3VectorsAreEqual(e,s.position),a=rotationQuaternionsAreEqual(i,s.quaternion);if(!e||n&&a)return!1;let r=this.getCamera().position.clone(),o=Math.min(10*t,1);r.lerp(e,o),this.getCamera().position.copy(r);let h=this.getCamera().quaternion.clone(),_=Math.min(5*t,1);h.slerp(i,_),this.getCamera().setRotationFromQuaternion(h);let d=!1;return this._keyMap.forEach(t=>{t&&(d=!0)}),d&&this._processKeyMap(this._keyMap,t),!0}_getCamera(){return this._camera}_initInputListener(){window.addEventListener(\"keyup\",this._onKeyChanged.bind(this),!1),window.addEventListener(\"keydown\",this._onKeyChanged.bind(this),!1),this._inputListeners.push({key:3,fun:t=>{this._down(t)}}),this._inputListeners.push({key:6,fun:t=>{this._move(t)}}),this._inputListeners.push({key:4,fun:t=>{this._up(t)}})}_down(t){this._downPosition=t.position,this._position=t.position,this._state=1,2===t.type&&window.setTimeout(this._onLongDown.bind(this),350),2===t.type?this._rotationSpeed=.6:this._rotationSpeed=1}_move(t){this._position=t.position,1!==this._state||this._locked||this._orbit(new THREE.Vector2(t.position.x,t.position.y)),2!==this._state||this._locked||(this._orbit(new THREE.Vector2(t.position.x,t.position.y)),this._moveForward())}_up(t){1===this._state&&this.dispatchEvent(2),2===this._state&&this._keyMap.set(87,!1),this._state=0,this._orbitPosition=null}_onLongDown(){getDelta(this._downPosition,this._position)<MIN_MOVE_DISTANCE&&1===this._state&&(this._state=2,this._orbit(new THREE.Vector2(this._position.x,this._position.y)),this._moveForward())}_update(t){let e=new THREE.Euler(-this._pitch,this._yaw,0,\"ZYX\");this._cameraRotation.setFromEuler(e)}updateCamera(){let{x:t,y:e}=this._domHelper.getClientDimensions();this._camera.aspect=t/e,this._camera.updateProjectionMatrix()}_onKeyChanged(t){this._keyMap.set(t.keyCode,\"keydown\"===t.type),this.dispatchEvent(6),this._processKeyMap(this._keyMap,.001)&&t.preventDefault()}_processKeyMap(t,e){e=Math.min(e,.1);let i=new THREE.Vector3(0,0,0),s=!1;return this._processUpDown(t,i,e),t.get(65)&&(i.x=-1*e),t.get(68)&&(i.x=1*e),t.get(37)&&(this._rotateHorizontal(-KEYBOARD_ROTATION_ANGLE*this._rotationSpeed*e),s=!0),t.get(39)&&(this._rotateHorizontal(KEYBOARD_ROTATION_ANGLE*this._rotationSpeed*e),s=!0),t.get(16)&&(i.x*=3,i.z*=3),!(0===i.x&&0===i.y&&0===i.z&&!s||(i.applyQuaternion(this.getCamera().quaternion),this._cameraPosition.add(new THREE.Vector3(i.x,0,i.z)),this._update(),0))}_processUpDown(t,e,i){(t.get(87)||t.get(38))&&(e.z=-1*i),(t.get(83)||t.get(40))&&(e.z=1*i)}_orbit(t){this._orbitPosition||(this._orbitPosition=new THREE.Vector2(t.x,t.y),this.dispatchEvent(0));let e=t.clone().sub(this._orbitPosition),i=this._domHelper.element instanceof Document?this._domHelper.element.body:this._domHelper.element;e.multiplyScalar(-1),this._rotateHorizontal(2*Math.PI*e.x/i.clientWidth*1),this._rotateVertical(2*Math.PI*e.y/i.clientHeight*1),position2VectorsAreEqual(this._orbitPosition,t)||this.dispatchEvent(1),this._orbitPosition.copy(t),this._update()}_moveForward(){this._keyMap.set(87,!0),this._processKeyMap(this._keyMap,.001)}_rotateVertical(t){let e=this._pitch+t;e>this.maxPolarAngle||e<this.minPolarAngle||(this._pitch=e,this._pitch<-Math.PI?this._pitch+=2*Math.PI:this._pitch>Math.PI&&(this._pitch-=2*Math.PI),this._saveYawAndPitch())}}let SceneManager=(()=>{class t{constructor(t,e,i,s,n){this._maxAnisotropy=1,this._clock=new THREE.Clock,this._delta=0,this._renderListener=null,this._stopRendering=!1,this._forceRender=!1,this._lastChange=Date.now(),this._running=!1,this._onAfterRender=()=>{},this._creator_=t,this._canvasID=i,this.createCameraControl(s),this._addCameraControlListener(),this._setupScene(e,n),document.addEventListener(\"visibilitychange\",this._tabVisible.bind(this)),this._renderListener=()=>{this._requestRender(!0)},this._getInputManager().addEventListener(7,this._renderListener,this),this._getInputManager().addEventListener(8,this._renderListener,this),this._lifeCycleManager.addEventListener(this)}onBeforeRender(){}_changeCameraControl(t){this._cameraControl&&this._cameraControl.cleanUp(),t instanceof CameraControlFirstPerson&&(this._getInputManager().removeEventListener(7,this._renderListener),this._getInputManager().removeEventListener(8,this._renderListener)),this._cameraControl instanceof CameraControlFirstPerson&&(this._getInputManager().addEventListener(7,this._renderListener,this),this._getInputManager().addEventListener(8,this._renderListener,this)),this._cameraControl=t,this.cameraControlChanged()}cameraControlChanged(){}_addCameraControlListener(){this._cameraControl.addEventListener(0,this._requestRender,this),this._cameraControl.addEventListener(1,this._requestRender,this),this._cameraControl.addEventListener(2,this._requestRender,this),this._cameraControl.addEventListener(6,this._requestRender,this)}_requestRender(t){if(!this._renderer)return;this._pixotron&&(this._pixotron.needsUpdate=!0,t&&(this._forceRender=!0));const e=()=>{this._delta=this._clock.getDelta(),this._animateCamera(),this._cameraControl.getCamera().layers.mask=65535,this._renderLoopFunction&&(this._renderLoopFunction(),this._renderLoopFunction=null),this.onBeforeRender(),this._statsHelper&&this._statsHelper.updateRenderInfo(this._renderer.info),this._pixotron?(this._forceRender&&(this._pixotron.autoShadowsClear=!0,this._pixotron.autoSAOClear=!0),this._pixotron.render(this._renderer,this._scene,this._cameraControl.getCamera(),this._renderTarget),this._forceRender=!1,this._pixotron.blit()):(this._renderer.clear(),this._renderer.render(this._scene,this._cameraControl.getCamera()),this._renderer.clearDepth()),this._onAfterRender(),window.TWEEN&&TWEEN.update(),this._lastChange+3e3<Date.now()||this._stopRendering?this._running=!1:(this._running=!0,requestAnimationFrame(e))};this._lastChange=Date.now(),this._running||this._stopRendering||(this._running=!0,requestAnimationFrame(e))}_animateCamera(){this._cameraControl&&(this._cameraControl.animateCamera(this._delta)||!this._pixotron||this._forceRender?(this._lightSetting instanceof DynamicLightSetting&&this._cameraControl.getCamera()instanceof THREE.PerspectiveCamera&&this._lightSetting.update(this._cameraControl.getCamera(),this._cameraControl.getTargetPosition()),this._pixotron&&(this._pixotron.needsUpdate=!0)):(this._pixotron.autoShadowsClear=!1,this._pixotron.autoSAOClear=!1)),this._environment&&this._environment.needsCamera()&&this._cameraControl instanceof CameraControl3D&&this._environment.updateCamera(this._cameraControl.getCamera())}_setupScene(t,e){const{x:i,y:s}=this._domHelper.getClientDimensions();this._scene=new THREE.Scene,(e=e||!1)||(this._scene.background=new THREE.Color(this._initData.colors.DEFAULT_BACKGROUND)),THREE.Math={DEG2RAD:THREE.MathUtils.DEG2RAD};const n={format:THREE.RGBAFormat,minFilter:THREE.NearestFilter,magFilter:THREE.NearestFilter},a=THREE.sRGBEncoding,r=Math.floor(i*window.devicePixelRatio),o=Math.floor(s*window.devicePixelRatio);this._renderTarget=new THREE.WebGLRenderTarget(r,o,n),this._renderTarget.texture.encoding=a,this._renderer=new THREE.WebGLRenderer({antialias:!0,alpha:!0}),this._renderer.setPixelRatio(window.devicePixelRatio),this._renderer.setSize(i,s),this._renderer.outputEncoding=THREE.sRGBEncoding,this._renderer.gammaFactor=2.2,this._renderer.autoClear=!1,this._renderer.shadowMap.enabled=!0,this._renderer.shadowMap.type=THREE.PCFSoftShadowMap,this._maxAnisotropy=this._renderer.capabilities.getMaxAnisotropy(),this._renderer.domElement.classList.add(this._canvasID),this._domHelper.element.appendChild(this._renderer.domElement),this._getInputManager().addEvents(this._renderer.domElement),this._environmentLoader.setRendererAndScene(this._renderer,this._scene),this._environmentLoader.registerEnvironmentChangedCallback(()=>this._requestRender(!0)),this._requestRender(),window.addEventListener(\"resize\",this,!1),window.addEventListener(\"keydown\",this,!1),window.addEventListener(\"keyup\",this,!1),this.sceneChanged()}_tabVisible(t){this.updateCamera(),this._requestRender(!0)}setupScene(t,e){this._setupScene(t,e)}updateCamera(){const{x:t,y:e}=this._domHelper.getClientDimensions();this._renderer.setSize(t,e);const i=this._renderer.getPixelRatio();if(this._renderTarget){const s=Math.floor(t*i),n=Math.floor(e*i);this._renderTarget.setSize(s,n)}if(this._pixotron){this._pixotron.autoShadowsClear=!0,this._pixotron.autoSAOClear=!0,this._forceRender=!0;try{this._pixotron.setSize(t,e)}catch(t){console.warn(t)}}this._cameraControl.updateCamera(),this._requestRender(!0)}_onWindowResize(){this.updateCamera(),this._requestRender(!0)}_isPartOfScene(t){return\"Object3D\"===t.type||\"Mesh\"===t.type||\"GLB\"===t.type||\"GLTF\"===t.type||\"Group\"===t.type}cleanUp(){this._getInputManager().removeEventListener(7,this._renderListener),this._getInputManager().removeEventListener(8,this._renderListener),this._cameraControl&&this._cameraControl.cleanUp()}clearScene(){let t=[];this._scene.children.forEach(e=>{this._isPartOfScene(e)&&t.push(e)}),t.forEach(t=>{dispose(t),this._scene.remove(t)}),this._renderer.renderLists.dispose()}enableHD(){this._pixotron=new window.PIXOTRON.Pixotron(this.getPixotronParams()),this._pixotronUtil=new PixotronUtil(this._pixotron),this._environment instanceof BakedShadowEnvironment&&(this._environment.setPixotron(this._pixotron,this._renderer,this._cameraControl.getCamera(),this.getBakedShadowParams()),this._environment.setLoadedCallback(()=>setTimeout(()=>this._requestRender(!0),500))),this._requestRender()}_loadGLTF(t,e,i,s,n,a,r){return new Promise((o,h)=>{this._staticItemLoader.loadGLTF(t,e,i,s,n,a,null,r).then(t=>{this._setCamera(\"GLTF\",t),o(t)},h)})}_loadGLB(t,e,i,s,n,a,r,o){return new Promise((h,_)=>{this._staticItemLoader.loadGLB(t,e,i,s,n,a,r,o).then(t=>{this._setCamera(\"GLB\",t),h(t)},_)})}_setCamera(t,e){if(!e)return void console.warn(\"could not set camera for gltf\",e);const i=new THREE.Box3;if(i.setFromObject(e),\"GLB\"===t)this._cameraControl instanceof CameraControl3D&&this._cameraControl.updateToBounds(i,window.innerWidth,window.innerHeight,!1);else if(\"GLTF\"===t){if(this._cameraControl instanceof CameraControl3D){let{x:t,y:e}=this._domHelper.getClientDimensions();this._cameraControl.updateAndReset(i.getSize(new THREE.Vector3),t,e,i.getCenter(new THREE.Vector3),-15,70,5,!1)}this._cameraControl instanceof CameraControl2D&&this._cameraControl.updateToBounds(i.getSize(new THREE.Vector3),i.getCenter(new THREE.Vector3))}this.updateCamera()}showGUI(){if(this._initData.disableDebugGUI)return;const t=document.createElement(\"style\");t.innerText=\".dg.main{position:absolute;z-index:100;top:0;left:0;}\",document.head.appendChild(t),this._scriptLoader.fetch(DAT_GUI_FILE_NAME,{id:\"dat-gui-js\"}).then(()=>{let t=getGUI(!1);t&&(this._domHelper.element.appendChild(t.domElement),this._guiLoaded())},t=>console.error(t))}_guiLoaded(){let t=getGUI();t&&(this._lightSetting&&this._lightSetting.showGUI(),this._pixotron&&this._pixotronUtil.showGUI(),this._environment&&this._environment.showGUI(),this._addGUIListener(t))}_addGUIListener(t){let e=t.__folders;Object.keys(e).forEach(t=>{let i=e[t];i.__folders&&Object.keys(i.__folders).forEach(t=>{let i=e[t];this._addGUIListener(i)}),i.__controllers&&i.__controllers.forEach(t=>{t.onFinishChange(()=>{this._guiParamChanged()})})})}_guiParamChanged(){this._requestRender()}showStats(){import(\"./stats-helper-57e0340c.js\").then(t=>this._statsHelper=new t.default)}_onKeyDown(t){}_onKeyUp(t){}pause(){this._getInputManager().removeEvents(this._renderer.domElement),window.removeEventListener(\"resize\",this,!1),window.removeEventListener(\"keydown\",this,!1),window.removeEventListener(\"keyup\",this,!1)}resume(){this.updateCamera(),this._renderer.domElement.classList.add(this._canvasID),this._domHelper.element.appendChild(this._renderer.domElement),this._getInputManager().addEvents(this._renderer.domElement),window.addEventListener(\"resize\",this,!1),window.addEventListener(\"keydown\",this,!1),window.addEventListener(\"keyup\",this,!1),this._requestRender(!0)}destroy(){this.pause(),this.cleanUp()}handleEvent(t){switch(t.type){case\"resize\":this._onWindowResize();break;case\"keydown\":this._onKeyDown(t);break;case\"keyup\":this._onKeyUp(t)}}loadSceneSettings(t){let e,i;return e=t.environment?new Promise(e=>{(new DynamicEnvironmentSettingLoader).load(this._scene,this._renderer.domElement,this._environment,t).then(t=>{this._setEnvironment(t),e()})}):Promise.resolve(),t.lights?(this._lightSetting=new DynamicLightSetting(this._scene,this._lightSetting),i=this._lightSetting.loadFromObject(t)):i=Promise.resolve(),new Promise((t,s)=>{Promise.all([e,i]).then(()=>{this._requestRender(!0),t()},s)})}_setEnvironment(t){this._environment=t,this._pixotron&&this._environment instanceof BakedShadowEnvironment&&(this._environment.setPixotron(this._pixotron,this._renderer,this._cameraControl.getCamera(),this.getBakedShadowParams()),this._environment.setLoadedCallback(()=>setTimeout(()=>this._requestRender(!0),500)))}loadQualitySetting(t){this._pixotron&&(new DynamicQualitySettingLoader).set(this._pixotron,t)}async loadDynamicLightSetting(t){this._lightSetting=new DynamicLightSetting(this._scene,this._lightSetting);let e=!1;if(t.url)await this._lightSetting.loadFromURL(t.url),e=!0;else if(t.json)await this._lightSetting.loadFromJSON(t.json),e=!0;else if(t.object)await this._lightSetting.loadFromObject(t.object),e=!0;else if(t.ls){const i=DynamicLightSettingLoader.createDynamicLightSettingSource(null,t.ls);await this._lightSetting.loadFromURL(i.url),e=!0}if(!e)throw new Error(\"No dynamic light setting source set\");this._requestRender(!0)}getScene(){return this._scene}updateScene(){this._updateBounds(this.getBounds()),this._requestRender(!0)}_updateBounds(t){if(t){if(this.updateEnvironment(t),this._lightSetting&&this._lightSetting.needsBounds()&&this._lightSetting.updateBounds(t),this._pixotronUtil){const e=new THREE.Sphere;t.getBoundingSphere(e),this._pixotronUtil.updateBounds(e)}this._requestRender(!0)}}setCameraOffset(t){const e=this._cameraControl.getCamera();e.offset?(e.offset=t,this._requestRender(!0)):console.warn(\"Cannot set offset, current camera does not support it\")}getCameraOffset(){const t=this._cameraControl.getCamera();return t.offset?JSON.parse(JSON.stringify(t.offset)):{left:0,top:0,right:1,bottom:1}}getPerspectiveOffsetCamera(){const t=this._domHelper.getClientDimensions(),e=t.x,i=t.y;return RoomleComponentFactoryInitializer().createCamera(30,e/i,.1,20)}updateEnvironment(t,e=!1){t&&this._environment&&this._environment.needsBounds()&&this._environment.updateBounds(t.getSize(new THREE.Vector3),e)}}return __decorate([inject],t.prototype,\"_domHelper\",void 0),__decorate([inject],t.prototype,\"_scriptLoader\",void 0),__decorate([inject],t.prototype,\"_lifeCycleManager\",void 0),__decorate([inject],t.prototype,\"_staticItemLoader\",void 0),__decorate([inject],t.prototype,\"_environmentLoader\",void 0),__decorate([inject],t.prototype,\"_initData\",void 0),t})();export{CameraControl2D as C,SceneManager as S,CameraControlFirstPerson as a};\n//# sourceMappingURL=scene-manager-87a03313.js.map\n","import\"./query-params-helper-a271f9dc.js\";import{f as getGUI,_ as __decorate,i as inject,U as convertToKernel,V as convertToTHREE,F as fadeIn,W as getMaterialId,d as dispose,X as getBoundingBoxMaterial,K as PREVIEW_MATERIAL_COLOR,Y as getColorFromInt,N as PREVIEW_MATERIAL_OPACITY,Z as getSelectionGeometry,$ as convertToThreeDimensions,a0 as checkGLB,y as AsyncGuard,a1 as setWallTransparencyBasedOnCamera,h as kernelBoxToThreeBox,B as Benchmark,a2 as setWallTransparency,G as GLTF_LOADER_FILE_NAME,a3 as DRACO_LOADER_FILE_NAME,p as isIdItemId,c as convertCObject,a4 as ConfiguratorViewModel,q as RoomleDependencyInjection,C as CommonKernelAccess,E as Env,M as MESH_DEFAULT_FORMAT,T as disposeMesh,l as DependencyInjectionAssignment,L as Logger,m as RapiAccess}from\"./rapi-access-413632b4.js\";import{s as setCursor,j as getGlbUrl,k as isString}from\"./main-thread-to-worker-8efc9a92.js\";import{R as RaycastHelper,G as GLTF_EXPORTER_FILE_NAME,a as prepareTopImage,p as preparePerspectiveImage,g as getCameraTargetForBBox}from\"./image-renderer-d4f0305a.js\";import{L as LightSetting,E as EventDispatcher,a as CANVAS_ID,B as BakedShadowEnvironment,b as BackgroundEnvironment,C as CameraControl3D,j as INITIAL_PITCH,T as TWEEN_FILE_NAME,g as PIXOTRON_EFFETCS,i as PIXOTRON_FILE_NAME,I as InputManager,S as ScriptLoader,f as DomHelper,M as Main}from\"./pixotron-2f79bd46.js\";import{M as MeshGenerator,U as UiCallback}from\"./ui-callback-908e86fb.js\";import{D as DefaultLightSetting}from\"./default-light-setting-3329a5c3.js\";import{S as SceneManager,C as CameraControl2D,a as CameraControlFirstPerson}from\"./scene-manager-87a03313.js\";class PlannerLightSetting extends LightSetting{constructor(e,t){super(e,t),this._center=new THREE.Vector3(0,0,0),this._params={ambientLight:{color:\"#ffffff\"},hemiLight:{color:\"#ffffff\"},mainDirLight:{direction:{x:.03,y:1,z:.03},color:\"#ffffff\"}},this._ambientLight=new THREE.AmbientLight(new THREE.Color(this._params.ambientLight.color),.3),this._ambientLight.layers.set(1),this._mainDirLight=new THREE.DirectionalLight(new THREE.Color(this._params.mainDirLight.color),.5),this._mainDirLight.castShadow=!0,this._mainDirLight.shadow.camera.near=.5,this._mainDirLight.shadow.camera.far=100,this._mainDirLight.shadow.mapSize=new THREE.Vector2(1024,1024),this._mainDirLight.visible=!0,this.addToScene()}updateSunPosition(e,t){}addToScene(){this._scene.add(this._mainDirLight),this._scene.add(this._ambientLight),this._scene.add(this._mainDirLight.target)}removeFromScene(){this._scene.remove(this._mainDirLight),this._scene.remove(this._ambientLight),this._scene.remove(this._mainDirLight.target)}reload(){this.removeFromScene(),this.addToScene()}needsBounds(){return!0}updateBounds(e){this._center.copy(e.getCenter(new THREE.Vector3));const t=new THREE.Sphere;e.getBoundingSphere(t);const n=t.radius,a=new THREE.Vector3(this._params.mainDirLight.direction.x,this._params.mainDirLight.direction.y,this._params.mainDirLight.direction.z);a.normalize(),a.multiplyScalar(n),this._mainDirLight.position.copy(this._center),this._mainDirLight.position.add(a),this._mainDirLight.target.position.copy(this._center),this._mainDirLight.target.updateMatrixWorld(!0),this._mainDirLight.shadow.camera.top=n,this._mainDirLight.shadow.camera.bottom=-n,this._mainDirLight.shadow.camera.left=-n,this._mainDirLight.shadow.camera.right=n,this._mainDirLight.shadow.camera.near=.01,this._mainDirLight.shadow.camera.far=2*n,this._mainDirLight.shadow.camera.updateProjectionMatrix()}showGUI(){let e=getGUI();if(e){if(this._ambientLight){let t=e.addFolder(\"Ambient Light\");t.add(this._ambientLight,\"visible\"),t.add(this._ambientLight,\"intensity\").min(0).max(5).step(.1),t.addColor(this._params.ambientLight,\"color\").onChange(e=>this._ambientLight.color=new THREE.Color(e))}if(this._hemiLight){let t=e.addFolder(\"Hemi Light\");t.add(this._hemiLight,\"visible\"),t.add(this._hemiLight,\"intensity\").min(0).max(5).step(.1),t.addColor(this._params.hemiLight,\"color\").onChange(e=>this._hemiLight.color=new THREE.Color(e))}if(this._mainDirLight){let t=e.addFolder(\"Main Directional Light\");t.add(this._mainDirLight,\"visible\"),t.add(this._mainDirLight,\"intensity\").min(0).max(10).step(.1),t.add(this._mainDirLight,\"castShadow\"),t.addColor(this._params.mainDirLight,\"color\").onChange(e=>this._mainDirLight.color=new THREE.Color(e)),t.add(this._mainDirLight.position,\"x\").min(-10).max(10).step(.1).onChange(()=>this._mainDirLight.lookAt(this._center)),t.add(this._mainDirLight.position,\"y\").min(-10).max(50).step(.1).onChange(()=>this._mainDirLight.lookAt(this._center)),t.add(this._mainDirLight.position,\"z\").min(-10).max(10).step(.1).onChange(()=>this._mainDirLight.lookAt(this._center))}}}}class SceneEventInfo{constructor(e){const{planElementViewModel:t,resetCamera:n}=e;this.planElementViewModel=t,this.resetCamera=void 0===n||n}}let PlannerSceneEventHandler=(()=>{class e extends EventDispatcher{constructor(e,t,n){super(),this._debug=!1,this._raycastHelper=new RaycastHelper(e,t,n,0),this._raycastHelper.addEventListener(3,()=>{this._plannerSelectionHandler.cancelSelection()},this),this._plannerSelectionHandler.addEventListener(0,({planElementViewModel:e})=>{this.dispatchEvent(0,new SceneEventInfo({planElementViewModel:e}))},this),this._plannerSelectionHandler.addEventListener(1,({planElementViewModel:e})=>{this.dispatchEvent(1,new SceneEventInfo({planElementViewModel:e}))},this)}getSelectionMode(){return this._plannerSelectionHandler.getSelectionMode()}addPlanObjectHandlers(e){this._addPlanObjectHandlers(e,e.getBoundingBox(),{hasListener:!0,priority:1,roomleId:e.getId()})}addWallHandlers(e){this._addPlanElementHandlers(e,e.getBoundingBox(),{hasListener:!0,priority:1,roomleId:e.getId()})}_addPlanObjectHandlers(e,t,n){t.userData.hasListener||(t.userData=n,t.addEventListener(\"select\",()=>this._clickElement(e)),t.addEventListener(\"drag_start\",()=>this._dragStart(e)),t.addEventListener(\"drag\",t=>this._drag(e,t.attachment.position)),t.addEventListener(\"drag_end\",t=>this._dragEnd(e,t.attachment.position)),t.addEventListener(\"hover_on\",()=>this._hoverOn(e)),t.addEventListener(\"hover_off\",()=>this._hoverOff(e)),t.addEventListener(\"rotate\",t=>this._rotate(e,t.attachment.rotation)))}_addPlanElementHandlers(e,t,n){t.userData.hasListener||(t.userData=n,t.addEventListener(\"select\",()=>this._clickElement(e)),t.addEventListener(\"drag_start\",()=>this._dragStart(e)),t.addEventListener(\"drag\",t=>this._drag(e,t.attachment.position)),t.addEventListener(\"drag_end\",t=>this._dragEnd(e,t.attachment.position)),t.addEventListener(\"hover_on\",()=>this._hoverOn(e)),t.addEventListener(\"hover_off\",()=>this._hoverOff(e)))}_clickElement(e){this._debug&&e.getId(),this._plannerSelectionHandler.check(e),this._setCursor()}_hoverOn(e){this._hoveredObject=e,this._setCursor()}_hoverOff(e){this._hoveredObject=null,this._setCursor()}_setCursor(){this._draggedObject?setCursor(\"grabbing\"):this._hoveredObject&&this._plannerSelectionHandler.isSelected(this._hoveredObject.getId())?setCursor(\"move\"):this._hoveredObject?setCursor(\"pointer\"):this._draggedObject||this._hoveredObject||setCursor(\"default\")}setCamera(e){this._raycastHelper.setCamera(e)}setScene(e){this._raycastHelper.setScene(e)}getSelectedIds(){return this._plannerSelectionHandler.getSelectedIds()}setSelectionMode(e){this._plannerSelectionHandler.setSelectionMode(e)}setPlanViewModel(e){this._planViewModel=e}cancelSelection(){this._plannerSelectionHandler.cancelSelection()}_dragStart(e){this._plannerSelectionHandler.isSelected(e.getId())&&(this._draggedObject=e,this.dispatchEvent(4,new SceneEventInfo({planElementViewModel:e})),this._setCursor())}_drag(e,t){if(!this._draggedObject)return;const n=this._plannerKernelAccess.planInteractionHandler;if(this._plannerSelectionHandler.getSelectedIds().length>1){const e=new this._plannerKernelAccess.kernelContainer.PlanObjectPtrList;let a=t.sub(this._draggedObject.getPosition());this._plannerSelectionHandler.getSelectedIds().forEach(t=>e.push_back(this._planViewModel.getPlanObjectForId(t).getPlanObject())),n.moveObjectsBy(e,convertToKernel(a))}else n.moveElementTo(e.getPlanElement(),convertToKernel(t))}_dragEnd(e,t){this._draggedObject&&(this._draggedObject=null,this.dispatchEvent(6,new SceneEventInfo({planElementViewModel:e})),this._setCursor())}_rotate(e,t){if(this._plannerSelectionHandler.isSelected(e.getId())){const n=this._plannerKernelAccess.planInteractionHandler,a=e.getPlanObject();n.setObjectRotation(e.getPlanElement(),a.rotation-t)}}}return __decorate([inject],e.prototype,\"_plannerSelectionHandler\",void 0),__decorate([inject],e.prototype,\"_plannerKernelAccess\",void 0),e})();class PlanElementViewModel extends class{constructor(e){this._coreReference=e.clone()}clearReference(){this._coreReference.delete(),this._coreReference=null}getKernelObject(){return this._coreReference}}{constructor(e){super(e);const t=convertToTHREE(e.getCenter());this._container=new THREE.Object3D,this._container.position.copy(t),this._boundingBox=this._generateBoundingBox(this.getSize(),e.customColor),fadeIn(this._boundingBox),this._container.add(this._boundingBox),2!==this.getPlanElement().getType().value&&(this._object=new THREE.Object3D,this._container.add(this._object))}getSize(){return this._object?(new THREE.Box3).setFromObject(this._object).getSize(new THREE.Vector3):new THREE.Vector3}update(){this._container.position.copy(convertToTHREE(this.getPlanElement().getCenter()))}getPosition(){return this._container.position}getRotation(){return this._container.rotation.y}getBounds(){let e=new THREE.Box3;return e.setFromObject(this._container),e}getBoundingBox(){return this._boundingBox}getPlanElement(){return this._coreReference}getObject(){return this._object}addMesh(e){this._object.add(e),this.hidePreviewBox()}getMesh(e){if(!this._object||0===this._object.children.length)return null;const t=getMaterialId(e,this.getPlanElement().getType());return this._object.children.find(e=>e.userData.material===t)}getContainer(){return this._container}getId(){return this.getPlanElement().getId()}clear(){dispose(this._container),this._selectionMesh&&dispose(this._selectionMesh)}hidePreviewBox(){this._container&&this._boundingBox&&(this._boundingBox.material=getBoundingBoxMaterial())}_generateBoundingBox(e,t){e.addScalar(.01);let n=new THREE.BoxGeometry(e.x,e.y,e.z),a=new THREE.Color(PREVIEW_MATERIAL_COLOR);t>0&&(a=getColorFromInt(t));let i=new THREE.MeshStandardMaterial({color:a,opacity:PREVIEW_MATERIAL_OPACITY,transparent:!0}),r=new THREE.Mesh(n,i);return r.name=\"bounding box\",r.position.y=e.y/2,r.castShadow=!1,r.receiveShadow=!1,r}select(){if(!this._selectionMesh){let e=new THREE.MeshStandardMaterial({color:this._primaryColor,opacity:PREVIEW_MATERIAL_OPACITY,transparent:!0});const t=convertToTHREE(this.getPlanElement().getCenter());this._selectionMesh=new THREE.Mesh(getSelectionGeometry(t,this.getSize()),e)}this._container.add(this._selectionMesh)}deselect(){this._selectionMesh&&this._container.remove(this._selectionMesh)}setPrimaryColor(e){this._primaryColor=e}}class PlanObjectViewModel extends PlanElementViewModel{constructor(e){super(e),this._container.rotation.y=e.rotation}getPlanObject(){return this.getPlanElement()}getSize(){return convertToThreeDimensions(this.getPlanObject().size)}update(){super.update(),this._container.rotation.y=this.getPlanObject().rotation}}let StaticPlanObjectViewModel=(()=>{class e extends PlanObjectViewModel{constructor(e){super(e),this._container.name=\"Static \"+this._container.name}setRapiItem(e){return this._addStaticItem(e)}_addStaticItem(e){this._rapiItem=e;let t=this.getPlanObject();this._glbUrl=getGlbUrl(e);let n=e.scaleable?convertToThreeDimensions(t.size):void 0,a=new THREE.Vector3(1,1,1);return t.flipX&&(a.x*=-1),t.flipY&&(a.z*=-1),new Promise(i=>{this._staticItemLoader.loadGLB(this._glbUrl,void 0,void 0,n,a,t.customColor,e.colorable).then(t=>{this._object=t,this._object.name=e.label,checkGLB(t,this._glbUrl),fadeIn(t),this._container.add(this._object),this.hidePreviewBox(),i()})})}getRapiItem(){return this._rapiItem}needsRapiItem(){return!this._glbUrl}getGLBUrl(){return this._glbUrl}}return __decorate([inject],e.prototype,\"_staticItemLoader\",void 0),e})();class ConfiguratorPlanObjectViewModel extends PlanObjectViewModel{constructor(e){super(e),this._container.name=\"Configurable \"+this._container.name}addRootComponent(e){this._object=e,this._container.add(this._object)}getConfigurationRuntimeId(){return this.getPlanObject().getConfigurationRuntimeId()}}let PlannerSceneManager=(()=>{class e extends SceneManager{constructor(e,t,n,a){super(e,t,CANVAS_ID.HSP,a),this._staticItemGuard=new AsyncGuard,this._configurableItemGuard=new AsyncGuard,this._roomlePlannerCallback=n,this._plannerMeshGenerator.maxAnisotropy=this._renderer.capabilities.getMaxAnisotropy(),this._plannerMeshGenerator.maxTextures=this._renderer.capabilities.maxTextures,this._plannerSceneEventHandler=new PlannerSceneEventHandler(this._scene,this._cameraControl.getCamera(),this._getInputManager()),this._plannerSceneEventHandler.addEventListener(0,({planElementViewModel:e})=>{e instanceof StaticPlanObjectViewModel&&this._initData.debug&&e.getGLBUrl(),this._highlight(e),this._onSelectionChange(e)},this),this._plannerSceneEventHandler.addEventListener(1,()=>{this._highlight(null),this._roomlePlannerUiCallback.onSelectionCancel()},this),this._plannerSceneEventHandler.addEventListener(4,()=>{this._cameraControl.lock(),this._environment instanceof BakedShadowEnvironment&&this._environment.removeFromScene(),this._requestRender()},this),this._plannerSceneEventHandler.addEventListener(6,()=>{this._cameraControl.unlock(),this._environment instanceof BakedShadowEnvironment&&this._environment.addToScene(),this._requestRender(!0),this.updateEnvironment(this.getBounds(),!0)},this),this._plannerKernelAccess.addPlannerListener(this),this._plannerMeshGenerator.setMaterialLoadedListener(()=>{this._planViewModel.tryToMergeComponents(),this._configurableItemGuard.resolve(),this._requestRender()}),window.onbeforeunload=this.clearScene.bind(this)}_onSelectionChange(e){let t;e instanceof StaticPlanObjectViewModel&&(t=\"static\"),e instanceof ConfiguratorPlanObjectViewModel&&(t=\"configuration\");const n={};if(e instanceof StaticPlanObjectViewModel&&(n.item=e.getRapiItem()),e instanceof ConfiguratorPlanObjectViewModel){const t=e.getConfigurationRuntimeId();n.configurationRuntimeId=t}const a=(async()=>{const n={};if(e instanceof StaticPlanObjectViewModel&&(n.item=e.getRapiItem()),e instanceof ConfiguratorPlanObjectViewModel){const a=e.getConfigurationRuntimeId(),i=e.getPlanObject().getCatalogItemId(),r=this._plannerKernelAccess.kernelInstance.getHashOfConfiguration(a);let s;if(i){const e=await this._rapiAccess.getItem(i);n.item=e,s=e.rootComponentId?e.rootComponentId:null}else try{const e=await this._rapiAccess.getConfiguration(r);n.configuration=e,s=e.rootComponentId?e.rootComponentId:null}catch(e){console.warn(\"Could not get RAPI configuration for kernel hash \"+r+\", saving configuration...\");const t=await this._plannerKernelAccess.getConfigurationData(a),i=await this._rapiAccess.saveConfiguration(t);n.configuration=i,s=i.rootComponentId?i.rootComponentId:null}if(s){const e=await this._rapiAccess.getComponent(s);n.component=e}n.configurationRuntimeId=a,t=\"configuration\"}return n})();this._roomlePlannerUiCallback.onSelectionChange(this._plannerSceneEventHandler.getSelectionMode(),t,n,a)}_setupScene(e,t){super._setupScene(e,t),this._initData.moc?(this._lightSetting=new DefaultLightSetting(this._scene),this._setEnvironment(new BackgroundEnvironment(this._scene,this._environment,new THREE.Color(this._initData.colors.DEFAULT_BACKGROUND)))):(this._lightSetting=new PlannerLightSetting(this._scene),this._addSky(),this._setEnvironment(new BakedShadowEnvironment(this._scene,this._environment)))}onBeforeRender(){this._cameraControl instanceof CameraControl3D&&this._plannerMeshGenerator.wallMeshes.forEach(e=>setWallTransparencyBasedOnCamera(this._cameraControl.getCamera(),e.material))}_getInputManager(){return this._plannerInputManager}createCameraControl(e){this.setMode(e)}resetCamera(){this._cameraControl.hasSavedState()?this.resetCameraToState():this.resetCameraPositionToStart()}resetCameraToState(){this._cameraControl.resetToState()}resetCameraPositionToStart(){this._requestRender()}_getYRotationOfObject(e){let t=e.getWorldDirection(new THREE.Vector3).clone();t.y=0,t.lengthSq()<.01&&(t=new THREE.Vector3(0,1,0),t.applyQuaternion(e.quaternion),t.y=0),t.normalize();let n=Math.asin(t.x);return t.z<0&&(n=Math.PI-n),n<0&&(n+=2*Math.PI),n}loadStaticPlanObjects(){let e=new Map;this._planViewModel.getStaticPlanObjectViewModels().forEach(t=>{let n=t.getPlanObject();e.has(n.getCatalogItemId())?e.get(n.getCatalogItemId()).push(t):e.set(n.getCatalogItemId(),[t])}),this._rapiAccess.getItems(Array.from(e.keys())).then(t=>{let n=[];t.forEach(t=>{this._plannerKernelAccess.catalogItemLoaded(t),e.get(t.id).forEach(e=>{n.push(new Promise((n,a)=>{e.setRapiItem(t).then(()=>{this._requestRender(),n()},a)}))})}),Promise.all(n).then(()=>this._staticItemsLoaded())})}_staticItemsLoaded(){this._requestRender(!0),this._staticItemGuard.resolve(),this._roomlePlannerUiCallback.onItemsLoaded()}preload(e){this._planId=e;let t=this._localStorageHelper.getItem(this._planId,\"rml_plans\");t&&this._loadGLTF(t).then(e=>{this._preloadScene=e,this._preloadScene&&this._scene.add(this._preloadScene),this._requestRender()})}planXMLLoaded(e){this.endPlanConstruction(e);const t=e.getBounds(),n=kernelBoxToThreeBox(t);this._updateBounds(n),this.loadStaticPlanObjects()}planCompletelyLoaded(e){const t=e.getBounds();this._updateBounds(kernelBoxToThreeBox(t))}handlerSwitchedPlans(e){if(this._planViewModel=e,this._planViewModel.setPlannerSceneEventHandler(this._plannerSceneEventHandler),this._planViewModel.setGeometriesMergedListener(()=>{this._requestRender()}),this._plannerSceneEventHandler.setPlanViewModel(this._planViewModel),this.clearScene(),!this._initData.moc){this._addSky();let e=new THREE.PlaneGeometry(1e3,1e3);e.rotateX(-Math.PI/2);let t=new THREE.MeshStandardMaterial({color:\"#f0f0f0\",roughness:1,metalness:0}),n=new THREE.Mesh(e,t);n.name=\"Ground\",n.position.y=-.01,n.receiveShadow=!0,this._scene.add(n)}this.resetCamera(),this._setCeiling(),this._staticItemGuard.reset(),this._configurableItemGuard.reset(),Promise.all([this._staticItemGuard.wait(),this._configurableItemGuard.wait()]).then(this._itemsLoaded.bind(this))}_itemsLoaded(){const e=this._planViewModel.getCorePlan();if(this._pixotron){const t=kernelBoxToThreeBox(e.getBounds());this._pixotron.getShadowPass().setShadowRecieverBBox(t)}this._roomlePlannerUiCallback.onCompletelyLoaded(),this._environment.updateBounds(kernelBoxToThreeBox(e.getBounds()).getSize(new THREE.Vector3)),this._requestRender(),Benchmark.end(\"loadingTime\")}beginPlanConstruction(e){}addPlanMesh(e,t,n,a,i,r,s){}endPlanConstruction(e){this._renderLoopFunction=()=>{this._scene.add(this._planViewModel.getConstructionGroup()),this._scene.add(this._planViewModel.getCeilingGroup()),this._lightSetting.needsBounds()&&this._lightSetting.updateBounds(this._planViewModel.getBoundingBox()),this._scene.remove(this._preloadScene)}}addPlanObjectToScene(e){fadeIn(e),this._scene.add(e)}removePlanObjectFromScene(e){this._scene.remove(e),this.updateEnvironment(this.getBounds()),this._requestRender(!0)}planElementChanged(e,t){this.updateEnvironment(this.getBounds(),!0),this._requestRender(!0),this._onPlanChanged()}exportGLB(e,t){this._scriptLoader.fetch(GLTF_EXPORTER_FILE_NAME,{id:\"gltf-exporter\"}).then(()=>{let n=new THREE.GLTFExporter;e||(e=[],this._scene.children.forEach(t=>{this._isPartOfScene(t)&&e.push(t)})),n.parse(e,e=>{let n=t||\"test\";this._localStorageHelper.addItem(n,JSON.stringify(e),\"rml_plans\")},{binary:!1,embedImages:!0,forceIndices:!0})})}importGLB(e){this._loadGLB(e).then(e=>this._scene.add(e))}clearScene(){this._plannerMeshGenerator.clear(),this._planViewModel.sceneCleared(),super.clearScene()}_addSky(){this._sky=new THREE.Sky,this._sky.name=\"Sky\",this._sky.scale.setScalar(45e4),this._scene.add(this._sky),this._sky.material.uniforms.turbidity.value=10,this._sky.material.uniforms.rayleigh.value=2,this._sky.material.uniforms.luminance.value=1,this._sky.material.uniforms.mieCoefficient.value=.005,this._sky.material.uniforms.mieDirectionalG.value=.8;let e=new THREE.Mesh(new THREE.SphereBufferGeometry(2e4,16,8),new THREE.MeshBasicMaterial({color:16777215}));e.name=\"Sunsphere\",e.position.y=-7e5,e.visible=!1,this._scene.add(e);let t=-.2*Math.PI,n=2*Math.PI*-.25;e.position.x=4e5*Math.cos(n),e.position.y=4e5*Math.sin(n)*Math.sin(t),e.position.z=4e5*Math.sin(n)*Math.cos(t),e.visible=!0,this._sky.material.uniforms.sunPosition.value.copy(e.position),this._lightSetting instanceof PlannerLightSetting&&this._lightSetting.updateSunPosition(.3,.25)}switchTo2D(){this._cameraControl instanceof CameraControl2D||(this._requestRender(),this._changeCameraControl(new CameraControl2D(this._creator_,this._getInputManager())),this._updateCamera(),this._addCameraControlListener(),this._setCeiling(),this._roomlePlannerUiCallback.onCameraChanged(\"2D\"))}switchTo3D(){this._cameraControl instanceof CameraControl3D||(this._changeCameraControl(new CameraControl3D(this._creator_,this._getInputManager(),new THREE.Vector3(0,10,0),this.getPerspectiveOffsetCamera())),this._updateCamera(),this._addCameraControlListener(),this._setCeiling(),this._roomlePlannerUiCallback.onCameraChanged(\"3D\"))}_setCeiling(){this._planViewModel&&(this._cameraControl instanceof CameraControlFirstPerson?this._planViewModel.getCeilingGroup().visible=!0:this._planViewModel.getCeilingGroup().visible=!1)}cameraControlChanged(){super.cameraControlChanged(),this._plannerSceneEventHandler&&this._plannerSceneEventHandler.setCamera(this._cameraControl.getCamera())}sceneChanged(){this._plannerSceneEventHandler&&this._plannerSceneEventHandler.setScene(this._scene)}closeHSC(){this._requestRender(),this._cameraControl instanceof CameraControl3D&&this._cameraControl.resetToState()}switchToFirstPerson(){if(this._cameraControl instanceof CameraControlFirstPerson)return;this._plannerMeshGenerator.wallMeshes.forEach(e=>setWallTransparency(e.material,!1,!1)),this._requestRender();let e=new THREE.Vector3(0,0,0);this._planViewModel&&(e=this._planViewModel.getBoundingBox().getCenter(new THREE.Vector3)),this._cameraControl&&this._cameraControl.cleanUp(),this._changeCameraControl(new CameraControlFirstPerson(this._creator_,this._getInputManager(),e,this.getPerspectiveOffsetCamera())),this._addCameraControlListener(),this._setCeiling(),this._roomlePlannerUiCallback.onCameraChanged(\"FP\")}_onKeyDown(e){super._onKeyDown(e),e.key&&\"1\"===e.key&&(this.switchTo2D(),e.preventDefault()),e.key&&\"2\"===e.key&&(this.switchTo3D(),e.preventDefault()),e.key&&\"3\"===e.key&&(this.switchToFirstPerson(),e.preventDefault()),!e.key||\"Meta\"!==e.key&&\"Control\"!==e.key||(this._plannerSceneEventHandler.setSelectionMode(\"multiselect\"),e.preventDefault())}_onKeyUp(e){super._onKeyDown(e),!e.key||\"Meta\"!==e.key&&\"Control\"!==e.key||(this._plannerSceneEventHandler.setSelectionMode(\"standard\"),e.preventDefault())}setMode(e){switch(e){case\"2D\":this.switchTo2D();break;case\"3D\":this.switchTo3D();break;case\"FP\":this.switchToFirstPerson()}}_highlight(e){let t=[];e&&e.getObject()&&e.getObject().children&&t.push(...e.getObject().children),this._plannerSceneEventHandler.getSelectedIds().forEach(e=>{const n=this._planViewModel.getPlanObjectForId(e);n&&n.getObject()&&n.getObject().children&&t.push(...n.getObject().children)}),this._pixotron.highlightObjects(t)}destroy(){super.destroy(),this._plannerMeshGenerator.removeMaterialLoadedListener(),this._planViewModel.removeGeometriesMergedListener()}getPixotronParams(){return{saoparams:{intensity:.5,occlusionWorldRadius:.6,smoothTransition:!0,samplesPerFrame:4,bias:.02,numSamples:100,accumulative:!1,falloff:2},shadowparams:{shadowMapResolution:1024,shadowRadius:3,shadowQuality:1,smoothTransition:!0,enableAccumulation:!0,shadowBiasMultiplier:.6,nearPlane:.01,farPlane:50,fov:110,side:THREE.FrontSide,numSamples:100},outlineparams:{highlightColor:new THREE.Color(this._initData.colors.SELECTION),edgeStrength:1,transparency:.9,edgeThickness:2}}}getBakedShadowParams(){return{enable:!0,shadowMapResolution:1024,smoothTransition:!0,numSamples:500,numSamplesPerFrame:4,bShadowMaterial:!0,falloff:1.8,darkness:.3,size:1.2,lightDirection:new THREE.Vector3(0,1,0),lightSolidAngle:40,yPosition:.006}}planObjectConfigurationLoaded(e,t,n){if(e&&e.extRef&&t&&t.extRef){let e=t.extRef.jsObject.getPlanObject().getConfigurationRuntimeId();e>0&&this._planViewModel.constructComponents(e)}}addMesh(e,t,n,a,i,r){}_updateBounds(e){e&&(this._updateCamera(e),super._updateBounds(e))}_updateCamera(e){const{x:t,y:n}=this._domHelper.getClientDimensions();if(e||(e=this.getBounds()),e){if(this._cameraControl instanceof CameraControl3D){const a=e.getSize(new THREE.Vector3),i=Math.max(a.x,a.z),r=this._initData.moc?.5*i*-1:5,s=this._initData.moc?INITIAL_PITCH:70;this._cameraControl.updateAndReset(a,t,n,e.getCenter(new THREE.Vector3),-15,s,r,!1)}this._cameraControl instanceof CameraControl2D&&this._cameraControl.updateToBounds(e.getSize(new THREE.Vector3),e.getCenter(new THREE.Vector3))}}getBounds(){return this._planViewModel?this._planViewModel.getBoundingBox():null}cancelSelection(){this._plannerSceneEventHandler.cancelSelection(),this._requestRender(!0)}deleteSelection(){const e=this._plannerSceneEventHandler.getSelectedIds();this.cancelSelection(),e.forEach(e=>{const t=this._planViewModel.getPlanObjectForId(e);t&&t.getObject()&&this._plannerKernelAccess.planInteractionHandler.removeElement(t.getKernelObject())})}rotateSelection(e){const t=new this._plannerKernelAccess.kernelContainer.PlanObjectPtrList,n=new THREE.Box3;this._plannerSceneEventHandler.getSelectedIds().forEach(e=>{const a=this._planViewModel.getPlanObjectForId(e);a&&a.getObject()&&(t.push_back(a.getPlanObject()),n.expandByObject(a.getContainer()))});const a=n.getCenter(new THREE.Vector3),i=this._plannerKernelAccess.planInteractionHandler.groupObjects(t);this._plannerKernelAccess.planInteractionHandler.rotateGroupBy(i,e,convertToKernel(a))}planBoundsChanged(){this.updateEnvironment(this.getBounds()),this._requestRender(!0)}planElementRemoved(e){this._onPlanChanged()}_onPlanChanged(){this._roomlePlannerUiCallback.onPlanChanged()}prepareTopImage(e={}){return new Promise(t=>{this._planViewModel.materialQueue.finished(!0).then(async()=>{let n=this._calculateBoundingBoxOfAllMeshes(.1);this._lightSetting.removeFromScene();let a=await prepareTopImage(this._scene,null,n,e);this._lightSetting.addToScene(),this._requestRender(),t(a)})})}preparePerspectiveImage(e={}){return new Promise((t,n)=>{this._planViewModel.materialQueue.finished(!0).then(async()=>{let n;n=this._cameraControl instanceof CameraControl3D?this._cameraControl.getCamera().clone():this.getPerspectiveOffsetCamera();let a=this._calculateBoundingBoxOfAllMeshes();this._lightSetting.removeFromScene();const i=await preparePerspectiveImage(this._scene,n,a,e);this._lightSetting.addToScene(),this._requestRender(),t(i)},n)})}_calculateBoundingBoxOfAllMeshes(e=0){const t=this.getBounds();return getCameraTargetForBBox(t,e)}}return __decorate([inject],e.prototype,\"_plannerKernelAccess\",void 0),__decorate([inject],e.prototype,\"_rapiAccess\",void 0),__decorate([inject],e.prototype,\"_plannerMeshGenerator\",void 0),__decorate([inject],e.prototype,\"_plannerInputManager\",void 0),__decorate([inject],e.prototype,\"_roomlePlannerUiCallback\",void 0),__decorate([inject],e.prototype,\"_localStorageHelper\",void 0),e})();const OFFSET={left:0,top:1,right:1,bottom:0};let RoomlePlanner=(()=>{class e{constructor(e){this._hscInstance=null,this._glbInstance=null,this._creator_=e,this._kernelAccessCallback.addListener(this),this._backstack.init([CANVAS_ID.HSP],this)}deleteSelection(){this._sceneManager.deleteSelection()}rotateSelection(e){this._sceneManager.rotateSelection(e)}cancelSelection(){this._sceneManager.cancelSelection()}init(e,t,n){return Benchmark.start(\"loadingTime\"),this._domHelper.setDomElement(e),this._sceneManager?(this._lifeCycleManager.resume(),Promise.resolve()):(this._preloadPlanId=t,this.setOverrides(n),new Promise(this._initPromiseCallback.bind(this)))}loadPlanXml(e,t){return this.setOverrides(t),new Promise(t=>{this._plan=this._planInteractionHandler.loadPlanXML(e),this._sceneManager.planXMLLoaded(this._plan),this._roomlePlannerUiCallback.onTotalFloorAreaChanged(this._planInteractionHandler.getPlan().getTotalFloorArea()),this._backstack.bringIntoForeground(CANVAS_ID.HSP),t()})}loadPlan(e,t){return this.setOverrides(t),new Promise((t,n)=>{this._rapiAccess.getPlan(e).then(e=>{this._plan=this._planInteractionHandler.loadPlanXML(e.planObjects),this._sceneManager.planXMLLoaded(this._plan),this._roomlePlannerUiCallback.onTotalFloorAreaChanged(this._planInteractionHandler.getPlan().getTotalFloorArea()),this._backstack.bringIntoForeground(CANVAS_ID.HSP),t()},n)})}setOverrides(e){e&&(this._initData.setOverrides(e),this._globalInitData.setOverrides(e))}switch2D(){this._sceneManager.switchTo2D()}switch3D(){this._sceneManager.switchTo3D()}switchToFirstPerson(){this._sceneManager.switchToFirstPerson()}exportGLB(){this._sceneManager.exportGLB()}importGLB(e){this._sceneManager.importGLB(e)}_initPromiseCallback(e,t){this._threeLoader.fetch().then(()=>{let t=this._scriptLoader.fetch(GLTF_LOADER_FILE_NAME,{id:\"gltf-loader\"}),n=this._scriptLoader.fetch(DRACO_LOADER_FILE_NAME,{id:\"draco-loader\"}),a=this._scriptLoader.fetch(TWEEN_FILE_NAME,{id:\"tween-js\"}),i=this._scriptLoader.fetch(\"static/Sky-6621935ea8a523af.js\",{id:\"sky-js\"});Promise.all([t,n,a,i]).then(()=>{this._kernelReadyCallback=e;const{mode:t,stats:n}=this._initData;this._sceneManager||(this._sceneManager=new PlannerSceneManager(this._creator_,OFFSET,this,t)),this._preloadPlanId&&this._sceneManager.preload(this._preloadPlanId),n?this.showStats():this.enableHD(),this._planInteractionHandler&&this._kernelReadyCallback()})})}enableHD(){return new Promise((e,t)=>{const n=()=>{this._sceneManager.enableHD(),e()};this._threeLoader.fetch().then(()=>Promise.all(PIXOTRON_EFFETCS.map(e=>this._scriptLoader.fetch(e,{id:e})))).then(()=>{this._scriptLoader.fetch(PIXOTRON_FILE_NAME,{id:\"pi-js\"}).then(n,t)},t)})}isReady(){this._planInteractionHandler=this._plannerKernelAccess.planInteractionHandler,this._kernelReadyCallback&&this._kernelReadyCallback()}showBenchmarks(){Benchmark.showBenchmarks()}async switchToConfigurator(){const e=await this._singlePromiseFactory.create(3,\"startHSC\",e=>{if(this._hscInstance)return e(this._hscInstance);import(\"./configurator-c1c1186e.js\").then((function(e){return e.c})).then(({Configurator:t})=>{const n=new t(this._creator_);n.boot({kernelInstance:this._planInteractionHandler.getConfiguratorKernel(),kernelContainer:this._plannerKernelAccess.kernelContainer}),n.getApi().setOverrides(this._initData),n.getApi().init(this._domHelper.element).then(()=>{this._hscInstance=n,e(this._hscInstance)})})});return this._backstack.bringIntoForeground(CANVAS_ID.HSC),e}async switchToViewer(){const e=await this._singlePromiseFactory.create(4,\"startGLB\",e=>{if(this._glbInstance)return e(this._glbInstance);import(\"./glb-viewer-7900c0c4.js\").then(t=>{const n=new t.GlbViewer(this._creator_);n.boot(),n.getApi().setOverrides(this._initData),n.getApi().init(this._domHelper.element).then(()=>{this._glbInstance=n,e(this._glbInstance)})})});return this._backstack.bringIntoForeground(CANVAS_ID.GLB),e}switchToPlanner(e){e&&this.loadPlan(e),this._backstack.bringIntoForeground(CANVAS_ID.HSP)}updateSize(){this._sceneManager.updateCamera()}getMain(){}update(){this.updateSize(),this._glbInstance&&this._glbInstance.getApi().updateSize(),this._hscInstance&&this._hscInstance.getApi().updateSize()}get callbacks(){return this._roomlePlannerUiCallback}set callbacks(e){this._roomlePlannerUiCallback=e}showStats(){this._sceneManager.showStats()}onBackStackChanged(e){this._roomlePlannerUiCallback.onBackStackChanged(e)}onCloseHSC(){this._sceneManager.closeHSC(),this._hscInstance&&this._hscInstance.getApi().pauseKernelCallbacks()}back(){this._backstack.current()===CANVAS_ID.GLB&&this._glbInstance&&this._glbInstance.getApi().clearScene(),this._backstack.back()}backTo(e){this._backstack.backTo(e)}getConfigurator(){return this._hscInstance}getCurrentSkin(){return this._rapiAccess.getCurrentSkin()}getRuntimeComponentIdOfRootComponent(e){return e?this._plannerKernelAccess.planInteractionHandler?this._plannerKernelAccess.planInteractionHandler.getConfiguratorKernel().getRootPlanComponentIdFromObjectId(e):(console.warn(\"Can not retrieve runtime id without planInteractionHandler\"),0):(console.warn(\"Can not retrieve runtime id without planObjectId\"),0)}resumeTest(e){this._domHelper.setDomElement(e),this._lifeCycleManager.resume()}pauseTest(){this._lifeCycleManager.pause()}syncCatalog(e){return this._dataSyncer.syncCatalog(e)}loadError(e){}getPlanInteractionHandler(){return Promise.resolve(this._planInteractionHandler)}getPlanModelViewHelper(){return Promise.resolve(this._plannerKernelAccess.planModelViewHelper)}async insertObject(e,t,n){if(!this._planInteractionHandler)throw new Error(\"no plan interaction handler\");if(!t)return this.insertItemList([e]);const a=await this._createKernelItem(e);return this._planInteractionHandler.addPlanObjectFromItem(a,t,n)}async insertItemList(e){if(!this._planInteractionHandler)throw new Error(\"no plan interaction handler\");if(!e||!e.length)return;const t=e.map(e=>this._createKernelItem(e)),n=await Promise.all(t),a=new this._plannerKernelAccess.kernelContainer.CatalogItemPtrList;n.forEach(e=>{a.push_back(e)}),this._planInteractionHandler.addPlanObjects(a)}async insertItems(e){await this._plannerKernelAccess.insertItems(e)}getScene(){return this._sceneManager.getScene()}updateScene(){this._sceneManager.updateScene()}getCameraOffset(){return this._sceneManager.getCameraOffset()}setCameraOffset(e){this._sceneManager.setCameraOffset(e)}async _createKernelItem(e){const t=new this._plannerKernelAccess.kernelContainer.CatalogItem(e),n=isIdItemId(e)?await this._rapiAccess.getItem(e):await this._rapiAccess.getConfiguration(e),a=t.size;return a.x=n.width||0,a.y=n.depth||0,a.z=n.height||0,t.size=a,t.type=n.type||\"other\",n.configuration&&(t.configuration=n.configuration),n.layer&&(t.layer=n.layer),n.flipable&&(t.flipable=n.flipable),t}async getObjects(){const e=(await this.getPlanModelViewHelper()).getPlanOverview(this._plan);let t=[];for(let n=0;n<e.objects.size();n++)t.push(convertCObject(e.objects.get(n)));return t}async getPlanOverview(){const e=(await this.getPlanModelViewHelper()).getPlanOverview(this._plan);return convertCObject(e)}prepareTopImage(e={}){return this._sceneManager.prepareTopImage(e)}preparePerspectiveImage(e={}){return this._sceneManager.preparePerspectiveImage(e)}}return __decorate([inject],e.prototype,\"_domHelper\",void 0),__decorate([inject],e.prototype,\"_scriptLoader\",void 0),__decorate([inject],e.prototype,\"_kernelAccessCallback\",void 0),__decorate([inject],e.prototype,\"_plannerKernelAccess\",void 0),__decorate([inject],e.prototype,\"_rapiAccess\",void 0),__decorate([inject],e.prototype,\"_singlePromiseFactory\",void 0),__decorate([inject],e.prototype,\"_roomlePlannerUiCallback\",void 0),__decorate([inject],e.prototype,\"_lifeCycleManager\",void 0),__decorate([inject],e.prototype,\"_backstack\",void 0),__decorate([inject],e.prototype,\"_threeLoader\",void 0),__decorate([inject],e.prototype,\"_dataSyncer\",void 0),__decorate([inject],e.prototype,\"_initData\",void 0),__decorate([inject],e.prototype,\"_globalInitData\",void 0),e})();class WallPlanElementViewModel extends PlanElementViewModel{constructor(e){super(e),this._container.name=\"Wall Plan Element\"}addMesh(e){super.addMesh(e);const t=(new THREE.Box3).setFromObject(this._object).getSize(new THREE.Vector3);this._boundingBox.geometry=new THREE.BoxGeometry(t.x,t.y,t.z),this._boundingBox.position.y=t.y/2}}class FloorPlanElementViewModel extends PlanElementViewModel{constructor(e){super(e),this._container.name=\"Floor Plan Element\"}addMesh(e){super.addMesh(e),e.castShadow=!1;const t=(new THREE.Box3).setFromObject(this._object).getSize(new THREE.Vector3);this._boundingBox.geometry=new THREE.BoxGeometry(t.x,.01,t.z)}}class CeilingPlanElementViewModel extends PlanElementViewModel{constructor(e){super(e),this._container.name=\"Ceiling Plan Element\"}addMesh(e){super.addMesh(e),e.castShadow=!1;const t=(new THREE.Box3).setFromObject(this._object).getSize(new THREE.Vector3);this._boundingBox.geometry=new THREE.BoxGeometry(t.x,.01,t.z)}}let PlanViewModel=(()=>{class e extends ConfiguratorViewModel{constructor(e){super(e),this._configurablePlanObjectViewModels=[],this._staticPlanObjectViewModels=[],this._constructionGroup=new THREE.Group,this._ceilingGroup=new THREE.Group,this._getKernelAccess().addPlannerListener(this)}planBoundsChanged(){}_getKernelAccess(){return RoomleDependencyInjection.lookup(\"planner-kernel-access\",this._creator_)}setReference(e){this._coreReference=e.clone()}clearReference(){this._coreReference.delete(),this._coreReference=null,super.clearReference()}getCorePlan(){return this._coreReference}addPlanElementViewModel(e){e instanceof ConfiguratorPlanObjectViewModel?this._configurablePlanObjectViewModels.push(e):e instanceof StaticPlanObjectViewModel?(this._staticPlanObjectViewModels.push(e),\"door\"!==e.getPlanObject().getObjectType()&&\"window\"!==e.getPlanObject().getObjectType()&&this._initData.edit&&this._plannerSceneEventHandler.addPlanObjectHandlers(e)):e instanceof WallPlanElementViewModel?(this._initData.edit&&this._plannerSceneEventHandler.addWallHandlers(e),this._constructionGroup.add(e.getContainer())):(e instanceof FloorPlanElementViewModel||e instanceof CeilingPlanElementViewModel)&&this._constructionGroup.add(e.getContainer())}_addRootComponent(e){let t=this._getPlanObjectViewModelForRuntimeId(e.parentObjectId);t&&t instanceof ConfiguratorPlanObjectViewModel&&(t.addRootComponent(e),this._initData.edit&&this._plannerSceneEventHandler.addPlanObjectHandlers(t),t.hidePreviewBox())}_getPlanObjectViewModelForRuntimeId(e){let t=null;return this._configurablePlanObjectViewModels.forEach(n=>{e===n.getConfigurationRuntimeId()&&(t=n)}),t}getPlanObjectForId(e){let t=null;return this._configurablePlanObjectViewModels.forEach(n=>{e===n.getId()&&(t=n)}),this._staticPlanObjectViewModels.forEach(n=>{e===n.getId()&&(t=n)}),t}getConstructionGroup(){return this._constructionGroup}getCeilingGroup(){return this._ceilingGroup}getBoundingBox(){const e=this.getCorePlan();return e?kernelBoxToThreeBox(e.getBounds()):(new THREE.Box3).setFromObject(this._constructionGroup)}setPlannerSceneEventHandler(e){this._plannerSceneEventHandler=e}sceneCleared(){this._configurablePlanObjectViewModels.forEach(e=>{e.clear()}),this._staticPlanObjectViewModels.forEach(e=>{e.clear()}),super.sceneCleared()}getStaticPlanObjectViewModels(){return this._staticPlanObjectViewModels}getComponent(e){return this._components.get(e)}_generateMesh(e=0,t=null,n,a,i,r,s,o,l){return this._plannerMeshGenerator.generateMesh(t,n,a,i,r,s,o,l)}_setMaterial(e,t,n){this._plannerMeshGenerator.setMaterial(e,t)}Editor3dComponentCreated(e,t,n,a,i){super.Editor3dComponentCreated(e,t,n,a,i),this._getKernelAccess()instanceof PlannerKernelAccess&&this.dockComponent(e,a,t,n)}addPlanObjectToScene(e){}handlerSwitchedPlans(e){this._constructionGroup=new THREE.Group,this._ceilingGroup=new THREE.Group}planCompletelyLoaded(e){}beginPlanConstruction(e){}addPlanMesh(e,t,n,a,i,r,s){}endPlanConstruction(e){}planElementChanged(e,t){}planObjectConfigurationLoaded(e,t,n){}addMesh(e,t,n,a,i,r){const s=e.extRef.jsObject;let o=s.getMesh(t);o?o.geometry=this._plannerMeshGenerator.generateGeometry(null,n,a,i,r):(o=this._generateMesh(0,null,t,n,a,i,r,e.getType()),s.addMesh(o))}removePlanObjectFromScene(e){}planElementRemoved(e){if(e.getType()===this._getKernelAccess().kernelContainer.PlanElementType.OBJECT){let t=e;if(t.hasConfiguration()){const e=t.extRef.jsObject,n=this._configurablePlanObjectViewModels.indexOf(e);n>-1&&this._configurablePlanObjectViewModels.splice(n,1)}else{const e=t.extRef.jsObject,n=this._staticPlanObjectViewModels.indexOf(e);n>-1&&this._staticPlanObjectViewModels.splice(n,1)}}}getMeshGenerator(){return this._plannerMeshGenerator}}return __decorate([inject],e.prototype,\"_plannerMeshGenerator\",void 0),e})(),PlannerKernelAccess=(()=>{class e extends CommonKernelAccess{constructor(e){super(e,0),this._plannerKernelCallbackListener=new Set,Benchmark.addMeta(\"kernel_is_ready\",{isWasm:this._useWASM}),this._scriptLoader.fetch(this._kernelPath,{id:\"kernel\"}).then(this._loadSuccess.bind(this),this._loadError.bind(this))}get kernelContainer(){return this._kernelContainer}_loadSuccess(){window.RoomleCore(this._kernelContainer)}_loadError(){console.error(\"kernel load error\")}_createPlanInteractionHandler(){const e=this._kernelContainer;this._planInteractionHandler=new e.PlanInteractionHandler,this._planInteractionHandler.init(this._planInteractionHandler,1,100,!0,!0,e.DrawingType.CLICK_PER_CLICK),this._roomlePlannerUiCallback.onPlanInteractionHandlerCreated(this._planInteractionHandler)}addPlannerListener(e){this._plannerKernelCallbackListener.add(e)}removePlannerListener(e){this._plannerKernelCallbackListener.delete(e)}isReady(){super.isReady(),this.registerCallbacks(),this._roomlePlannerUiCallback.onPlannerKernelIsReady(this._kernelContainer),this._createPlanInteractionHandler();const e=this._planInteractionHandler.getConfiguratorKernel();this._kernelInstance=e,this._roomlePlannerUiCallback.onConfiguratorKernelIsReady(this._kernelContainer,e),Env.isProduction||(window.__RML__DEBUG__.ConfiguratorKernel=this._kernelInstance,window.__RML__DEBUG__.PlannerKernelContainer=this._kernelContainer),this._kernelAccessCallback.isReady()}get callbacks(){return this._roomlePlannerUiCallback}get planInteractionHandler(){return this._planInteractionHandler}get planModelViewHelper(){return this._kernelContainer.PlanModelViewHelper}catalogItemLoaded(e){const t=this._rapiItemToKernelItem(e);this._kernelContainer.catalogItemLoaded(t)}async insertItems(e){let t=new this._kernelContainer.CatalogItemPtrList;e.forEach(e=>{let n=e.count||1;for(let a=0;a<n;a++)e.count||(e.count=0),t.push_back(this._rapiItemToKernelItem(e))}),this._planInteractionHandler.addPlanObjects(t);const n=this._planInteractionHandler.getPlan().extRef.jsObject;await Promise.all(n.getStaticPlanObjectViewModels().map(async e=>{if(e.needsRapiItem()){const t=await this._rapiAccess.getItem(e.getPlanObject().getCatalogItemId());e.setRapiItem(t)}}))}_rapiItemToKernelItem(e){let t=new this._kernelContainer.CatalogItem(e.id),n=t.size;return n.x=e.width||0,n.y=e.depth||0,n.z=e.height||0,t.size=n,t.flipable=e.flipable,t.layer=e.layer,t.orderable=e.orderable,t.scaleable=e.scaleable,t.type=e.type||\"\",t.detailType=e.type||\"\",t.configuration=e.configuration||\"\",t}onLoadComponentError(e){}configurationLoaded(e,t,n,a,i){}componentDefinitionLoaded(e,t){}componentDefinitionLoadingError(e,t){}configurationLoadingError(){}componentConfigurationUpdated(e){}componentParameters(){}requestComponentDimensions(){}planObjectCreated(e,t){}planObjectUpdated(e){}planObjectConfigurationUpdated(e,t,n){}planObjectDeleted(){}requestPlanObjectDimensions(){}cleanUpCallbacks(){super.cleanUpCallbacks(),this._kernelContainer.unregisterPlannerCallback(this)}registerCallbacks(){super.registerCallbacks(),this._kernelContainer.registerPlannerCallback(this)}requestExternalMesh(e,t){return new Promise((n,a)=>{this._rapiAccess.getMesh(e,MESH_DEFAULT_FORMAT,t).then(i=>{fetch(new Request(this._dataSyncer.requestAsset(i.url,!0))).then(e=>e.arrayBuffer()).then(a=>{try{this._kernelInstance.addMeshCorto(e,t,new Uint8Array(a)),n()}catch(e){console.error(e),n()}}).catch(e=>{console.error(e),a(e)})},e=>{console.error(e),a(e)})})}Editor3dRootComponentCreated(e,t,n,a){this._configuratorKernelCallbackListener.forEach(i=>i.Editor3dComponentCreated(e,t,n,a,!0))}Editor3dPlanObjectConstructionDone(e){}Editor3dBeginGroup(){}Editor3dEndGroup(){}Editor3dSetMaterial(){}Editor3dLoadMaterial(){}Editor3dAddDockPreview(e,t){}Editor3dSetPreviewPointAssociations(e,t){}Editor3dSetPreviewLineAssociations(e,t){}Editor3dPreviewConstructionDone(e,t){}Editor3dTranslateBy(){}Editor3dRotateBy(){}Editor3dRotateAround(){}Editor3dAddCube(){}Editor3dAddCubeUVMod(){}Editor3dAddSphere(){}Editor3dAddSphereUVMod(){}Editor3dAddRectangle(){}Editor3dAddRectangleUVMod(){}Editor3dAddMesh(){}Editor3dAddMeshUVMod(){}Editor3dAddMeshUVCoord(){}Editor3dAddCylinder(){}Editor3dAddCylinderUVMod(){}Editor3dAddPrism(){}Editor3dAddPrismUVMod(){}Editor3dAddFittingPoint(){}Editor3dAddFittingLine(){}Editor3dSelectObject(){}Editor3dCopy(){}Editor3dUpdatePlanObjectPosition(){}Editor3dUpdatePlanObjectRotation(){}Editor3dUpdatePlanObjectTransform(){}Editor3dUpdatePlanComponentPosition(){}Editor3dUpdatePlanComponentRotation(){}Editor3dUpdatePlanComponentTransform(){}planElementRemoved(e){this._plannerKernelCallbackListener.forEach(t=>t.planElementRemoved(e));const t=e.extRef.jsObject.getContainer();this._plannerKernelCallbackListener.forEach(e=>e.removePlanObjectFromScene(t)),this._decoupleReferences(e)}handlerSwitchedPlans(e,t){if(this._decoupleReferences(e),t){let e=new PlanViewModel(this._creator_);e.setReference(t),this._coupleReferences(e,t),this._plannerKernelCallbackListener.forEach(t=>t.handlerSwitchedPlans(e))}}planBoundsChanged(){this._plannerKernelCallbackListener.forEach(e=>e.planBoundsChanged())}planCleared(){}planCompletelyLoaded(e){this._plannerKernelCallbackListener.forEach(t=>t.planCompletelyLoaded(e))}planElement3dMeshChanged(e,t){if(t.extRef){const e=t.extRef.jsObject;for(let t=e.getObject().children.length-1;t>=0;t--)e.getObject().remove(e.getObject().children[t])}this.planModelViewHelper.requestMesh3d(t)}planElementAdded(e,t){if(e&&e.extRef)if(t.getType()===this._kernelContainer.PlanElementType.OBJECT){let n,a=t;a.hasConfiguration()?(n=new ConfiguratorPlanObjectViewModel(a),this._coupleReferences(n,a),e.extRef.jsObject.addPlanElementViewModel(n)):(n=new StaticPlanObjectViewModel(a),this._coupleReferences(n,a),e.extRef.jsObject.addPlanElementViewModel(n)),this._plannerKernelCallbackListener.forEach(e=>e.addPlanObjectToScene(n.getContainer()))}else{let n,a=t;if(t.getType()===this._kernelContainer.PlanElementType.WALL?n=new WallPlanElementViewModel(a):t.getType()===this._kernelContainer.PlanElementType.FLOOR?n=new FloorPlanElementViewModel(a):t.getType()===this._kernelContainer.PlanElementType.CEILING&&(n=new CeilingPlanElementViewModel(a)),!n)return;n.setPrimaryColor(this._initData.colors.PRIMARY),this._coupleReferences(n,a),e.extRef.jsObject.addPlanElementViewModel(n),this.planModelViewHelper.requestMesh3d(t)}}planElementChanged(e,t){if(t.extRef){let n=t.extRef.jsObject;n.update(),this._plannerKernelCallbackListener.forEach(t=>t.planElementChanged(e,n))}}planHistoryStateChanged(){}planObjectConfigurationCreated(e,t){}planObjectConfigurationLoaded(e,t,n){e&&e.extRef&&t&&t.extRef&&t.extRef.jsObject.getPlanObject().getConfigurationRuntimeId()>0&&this._plannerKernelCallbackListener.forEach(a=>a.planObjectConfigurationLoaded(e,t,n))}requestCatalogItem(e){}startedDrawing(){}stoppedDrawing(){}updateMesh2d(){}beginConstruction(){}addMesh(e,t,n,a,i,r){this._plannerKernelCallbackListener.forEach(s=>s.addMesh(e,t,n,a,i,r))}endConstruction(){}beginPlanConstruction(e){this._plannerKernelCallbackListener.forEach(t=>t.beginPlanConstruction(e))}addPlanMesh(e,t,n,a,i,r,s){this._plannerKernelCallbackListener.forEach(o=>o.addPlanMesh(e,t,n,a,i,r,s))}endPlanConstruction(e){this._plannerKernelCallbackListener.forEach(t=>t.endPlanConstruction(e))}_coupleReferences(e,t){let n=new this._kernelContainer.EMSReference;n.jsObject=e,t.extRef=n}_decoupleReferences(e){e&&e.extRef&&(e.extRef.jsObject.clearReference(),e.extRef.jsObject=null,e.extRef.delete(),e.extRef=null)}}return __decorate([inject],e.prototype,\"_kernelAccessCallback\",void 0),__decorate([inject],e.prototype,\"_roomlePlannerUiCallback\",void 0),__decorate([inject],e.prototype,\"_initData\",void 0),e})(),Backstack=(()=>{class e{constructor(e){this._initialStack=[],this._creator_=e,this._lifeCycleManager.addEventListener(this)}_setInitialStack(e){this._initialStack=[...e]}_setCallbacks(e){this._callbacks=e}_resetCanvasStack(){this._canvasStack=[...this._initialStack]}init(e,t){this._setInitialStack(e),this._resetCanvasStack(),this._setCallbacks(t)}bringIntoForeground(e){const t=this._domHelper.element.querySelectorAll(\"canvas\");let n=!1;t.forEach(t=>{if(t.classList.contains(e)){if(!t.classList.contains(\"foreground\")){const t=this.current();t&&e!==t&&(this._canvasStack.push(e),n=!0),t||(n=!0)}t.classList.remove(\"background\"),t.classList.add(\"foreground\")}else t.classList.remove(\"foreground\"),t.classList.add(\"background\")}),n&&this._callbacks.onBackStackChanged(this._canvasStack)}current(){return this._canvasStack[this._canvasStack.length-1]}back(){if(1===this._canvasStack.length)return;let e=this._canvasStack.pop();this.bringIntoForeground(this.current()),e===CANVAS_ID.HSC&&this._callbacks.onCloseHSC(),this._callbacks.onBackStackChanged(this._canvasStack)}backTo(e){if(1!==this._canvasStack.length&&this.current()!==e)for(;this._canvasStack.length>0;){let t=this.current();if(t===e){this.bringIntoForeground(t);break}t===CANVAS_ID.HSC&&this._callbacks.onCloseHSC(),this._canvasStack.pop(),this._callbacks.onBackStackChanged(this._canvasStack)}}pause(){this._resetCanvasStack()}resume(){}destroy(){}}return __decorate([inject],e.prototype,\"_domHelper\",void 0),__decorate([inject],e.prototype,\"_lifeCycleManager\",void 0),e})();class PlannerSelectionHandlerEvent{constructor(e){const{planElementViewModel:t}=e;this.planElementViewModel=t}}const INJECTABLES=[new DependencyInjectionAssignment(\"script-loader\",ScriptLoader),new DependencyInjectionAssignment(\"dom-helper\",DomHelper,1),new DependencyInjectionAssignment(\"planner-input-manager\",class extends InputManager{_canDrag(e){return!0}},1),new DependencyInjectionAssignment(\"planner-kernel-access\",PlannerKernelAccess),new DependencyInjectionAssignment(\"logger\",Logger),new DependencyInjectionAssignment(\"planner-mesh-generator\",class extends MeshGenerator{constructor(e){super(e),this._wallMeshes=[],this._defaultMaterial=new THREE.MeshStandardMaterial({color:\"#ffffff\",roughness:1,metalness:0,opacity:1,envMap:null}),this._environmentLoader.setEnvMap(this._defaultMaterial)}generateGeometry(e=null,t,n,a,i,r=!1){let s;return s=r?this._generateGeometry(e,t,n,a,i).clone():this._generateGeometry(e,t,n,a,i),s}generateMesh(e=null,t,n,a,i,r,s,o=!1){const l=this.generateGeometry(e,n,a,i,r,o),c=new THREE.Mesh(l,this._previewMaterial);return c.receiveShadow=!0,c.castShadow=!0,c.layers.set(3),!t&&s&&7!==s.value?(console.warn(\"material is undefined\"),c):(this.setMaterial(c,t,s),this._checkWallMaterial(c,s),c)}setMaterial(e,t,n){if(e.userData.material=getMaterialId(t,n),isString(t))t?this._assignMaterial(e,t).then(()=>{this._materialLoaded&&this._materialLoaded()}):(console.warn(\"Used default material because material is empty\"),this.changeMaterialOfMesh(e,this._defaultMaterial));else{if(!t)return void this.changeMaterialOfMesh(e,this._defaultMaterial);2===(t=t).getSourceType().value?this._assignMaterial(e,t.materialId).then(()=>{this._materialLoaded&&this._materialLoaded()}):1===t.getSourceType().value?this._assignItem(e,t.catalogItemId):3===t.getSourceType().value?this._assignRGB(e,t.rgbValue):0===t.getSourceType().value?this.changeMaterialOfMesh(e,this._defaultMaterial):(this.changeMaterialOfMesh(e,this._defaultMaterial),1!==n.value&&7!==n.value&&3!==n.value&&console.warn(\"Used default material because material is not supported\",t))}}set maxAnisotropy(e){this._maxAnisotropy=e}_checkWallMaterial(e,t){t&&1===t.value&&(e.renderOrder=5,this._wallMeshes.push(e))}clear(){super.clear(),this.clearWallMeshes()}clearWallMeshes(){this._wallMeshes.forEach(e=>{disposeMesh(e)}),this._wallMeshes=[]}get wallMeshes(){return this._wallMeshes}}),new DependencyInjectionAssignment(\"rapi-access\",RapiAccess),new DependencyInjectionAssignment(\"roomle-planner-ui-callback\",class extends UiCallback{constructor(e){super(e),this.onItemsLoaded=()=>{},this.onBackStackChanged=e=>{},this.onCameraChanged=e=>{},this.onTotalFloorAreaChanged=e=>{},this.onPlanInteractionHandlerCreated=e=>{},this.onPlannerKernelIsReady=e=>{},this.onConfiguratorKernelIsReady=(e,t)=>{},this.onSelectionChange=(e,t,n,a)=>{},this.onSelectionCancel=()=>{},this.onPlanChanged=()=>{},this.onCompletelyLoaded=()=>{}}}),new DependencyInjectionAssignment(\"backstack\",Backstack),new DependencyInjectionAssignment(\"planner-selection-handler\",class extends EventDispatcher{constructor(){super(...arguments),this._selectionMode=\"standard\",this._selectedPlanElementViewModels=new Map}check(e){\"standard\"===this._selectionMode&&this._checkStandard(e),\"multiselect\"===this._selectionMode&&this._checkMulti(e)}cancelSelection(){0!==this._selectedPlanElementViewModels.size&&this._selectedPlanElementViewModels.forEach((e,t)=>{this._selectedPlanElementViewModels.delete(t),this.dispatchEvent(1,new PlannerSelectionHandlerEvent({planElementViewModel:e}))})}_checkStandard(e){if(this._selectedPlanElementViewModels.has(e.getId()))return this._selectedPlanElementViewModels.delete(e.getId()),void this.dispatchEvent(1,new PlannerSelectionHandlerEvent({planElementViewModel:e}));this._selectedPlanElementViewModels.size>0&&this._selectedPlanElementViewModels.forEach((e,t)=>{this._selectedPlanElementViewModels.delete(t),this.dispatchEvent(1,new PlannerSelectionHandlerEvent({planElementViewModel:e}))}),this._selectedPlanElementViewModels.set(e.getId(),e),this.dispatchEvent(0,new PlannerSelectionHandlerEvent({planElementViewModel:e}))}_checkMulti(e){if(this._selectedPlanElementViewModels.has(e.getId()))return this._selectedPlanElementViewModels.delete(e.getId()),void this.dispatchEvent(1,new PlannerSelectionHandlerEvent({planElementViewModel:e}));this._selectedPlanElementViewModels.set(e.getId(),e),this.dispatchEvent(0,new PlannerSelectionHandlerEvent({planElementViewModel:e}))}setSelectionMode(e){this._selectionMode=e}getSelectionMode(){return this._selectionMode}hasSelection(){return this._selectedPlanElementViewModels.size>0}getSelectedIds(){let e=[];return this._selectedPlanElementViewModels.forEach(t=>e.push(t.getId())),e}isSelected(e){return!!this._selectedPlanElementViewModels.get(e)}})];class Planner extends Main{setupGlobals(){}setupDependencies(){RoomleDependencyInjection.setup(INJECTABLES),this.lookup(\"logger\",this._context),this.lookup(\"planner-kernel-access\",this._context)}cleanUpGlobals(){throw new Error(\"Method not implemented.\")}cleanUpDependencies(){throw new Error(\"Method not implemented.\")}bootFinished(){this._planner=new RoomlePlanner(this._context),this._planner.getMain=()=>this,window.RoomlePlanner||(window.RoomlePlanner=this._planner)}getApi(){return this._planner}getContextName(){return\"planner\"}}export{Planner};\n//# sourceMappingURL=planner-888faf54.js.map\n","import{_ as __decorate,i as inject,K as PREVIEW_MATERIAL_COLOR,O as PREVIEW_MATERIAL_ROUGHNESS,Q as PREVIEW_MATERIAL_METALNESS,H as createMaterial,J as addTexture}from\"./rapi-access-413632b4.js\";import{c as createBenchmarkMaterial,e as createBenchmarkTexture,f as setDescriptor,i as setWriteable}from\"./main-thread-to-worker-8efc9a92.js\";class PromiseQueue{constructor(e,t){this._waitingPromises=[],this._errorCallback=()=>{},Promise.allSettled=Promise.allSettled||(e=>Promise.all(e.map(e=>e.then(e=>({status:\"fulfilled\",value:e})).catch(e=>({status:\"rejected\",reason:e}))))),e&&this.registerCallback(e),t&&(this._errorCallback=t)}push(e){this._waitingPromises.push(e),Promise.all(this._waitingPromises).then(e=>{e.length===this._waitingPromises.length&&this._callback&&(this._callback(e),this._waitingPromises=[])},this._errorCallback)}finished(e=!1){return new Promise((t,a)=>{const r=e?\"allSettled\":\"all\";Promise[r](this._waitingPromises).then(e=>{if(\"allSettled\"===r){const a=[];e.forEach(({value:e,status:t})=>{\"fulfilled\"===t&&a.push(e)}),t(a)}else t(e)},e=>{a(e)})})}registerCallback(e){this._callback=e}unregisterCallback(){this._callback=null}get length(){return this._waitingPromises.length}}let MeshGenerator=(()=>{class e{constructor(e){this.materialQueue=new PromiseQueue,this._maxAnisotropy=1,this._maxTextures=16,this._textureLoader=new THREE.TextureLoader,this._creator_=e,this._previewMaterial=new THREE.MeshStandardMaterial({color:PREVIEW_MATERIAL_COLOR,roughness:PREVIEW_MATERIAL_ROUGHNESS,metalness:PREVIEW_MATERIAL_METALNESS}),this._environmentLoader.setEnvMap(this._previewMaterial)}_generateGeometry(e,t,a,r,s){let i;if(e&&this._cacheHolder.geometryCache.has(e))i=this._cacheHolder.geometryCache.get(e);else{i=new THREE.Geometry,i.faceVertexUvs=[],i.faceVertexUvs[0]=[];for(let e=0,a=t.length;e<a;e+=3)i.vertices.push(new THREE.Vector3(t[e]/1e3,t[e+2]/1e3,t[e+1]/-1e3));let o=0,h=0,l=0,c=0,n=0,m=0,_=0,d=0,u=0,p=0,g=[];for(let e=0,t=a.length;e<t;e+=3)h=e,l=e+1,c=e+2,n=3*a[h],m=3*a[l],_=3*a[c],g=[new THREE.Vector3(s[n],s[n+2],-1*s[n+1]),new THREE.Vector3(s[m],s[m+2],-1*s[m+1]),new THREE.Vector3(s[_],s[_+2],-1*s[_+1])],i.faces.push(new THREE.Face3(a[h],a[l],a[c],g)),d=2*a[h],u=2*a[l],p=2*a[c],i.faceVertexUvs[0][o]=[],i.faceVertexUvs[0][o][0]=new THREE.Vector2(r[d],r[d+1]),i.faceVertexUvs[0][o][1]=new THREE.Vector2(r[u],r[u+1]),i.faceVertexUvs[0][o][2]=new THREE.Vector2(r[p],r[p+1]),o++;e&&this._cacheHolder.geometryCache.set(e,i)}return i}changeMaterialOfMesh(e,t){e&&t?(e.material=t,e.material.transparent||0===e.material.opacity||e.material.transmission>0?(e.castShadow=!1,e.receiveShadow=!1):(e.castShadow=!0,e.receiveShadow=!0),e.material.needsUpdate=!0):console.warn(\"could not assign material to mesh\",{mesh:e},{material:t})}_createMaterial(e,t,a,r,s){if(this._cacheHolder.materialCache.has(e))t();else if(e.startsWith(\"benchmarkMaterial\")){let i=createBenchmarkMaterial(e),o=createMaterial(i,this._environmentLoader);this._loadBenchmarkTextures(i,o,r,s).then(t,a)}else this._rapiAccess.getMaterial(e).then(e=>{let i=createMaterial(e,this._environmentLoader);this._loadTextures(e,i,r,s).then(t,a)},a)}_loadBenchmarkTextures(e,t,a=1,r=1){return new Promise((s,i)=>{const o=createBenchmarkTexture(e.id);addTexture(this._dataSyncer.requestAsset(o.image,!0),o,t,this._maxAnisotropy,a/(0===o.mmWidth?1:o.mmWidth),r/(0===o.mmHeight?1:o.mmHeight),this._maxTextures).then(()=>{this._cacheHolder.materialCache.set(e.id,t),s()},i)})}_loadTextures(e,t,a=1,r=1){return new Promise((s,i)=>{if(!e.textures||e.textures&&0===e.textures.length)return this._cacheHolder.materialCache.set(e.id,t),s();this._rapiAccess.getTexturesOf(e).then(o=>{let h=[];o.forEach(e=>{h.push(addTexture(this._dataSyncer.requestAsset(e.image,!0),e,t,this._maxAnisotropy,a/(0===e.mmWidth?1:e.mmWidth),r/(0===e.mmHeight?1:e.mmHeight),this._maxTextures))}),Promise.all(h).then(()=>{this._cacheHolder.materialCache.set(e.id,t),s()},i)})})}_loadMaterial(e,t,a){return new Promise((r,s)=>{this._singlePromiseFactory.create(6,e,(r,s)=>this._createMaterial(e,r,s,t,a)).then(()=>{setTimeout(()=>r(this._cacheHolder.materialCache.get(e)),0)},s)})}_assignMaterial(e,t){return this._cacheHolder.materialCache.has(t)?(this.changeMaterialOfMesh(e,this._cacheHolder.materialCache.get(t)),Promise.resolve()):new Promise((a,r)=>{this._loadMaterial(t).then(t=>{this.changeMaterialOfMesh(e,t),a()},r)})}get maxAnisotropy(){return this._maxAnisotropy}set maxAnisotropy(e){this._maxAnisotropy=e}get maxTextures(){return this._maxTextures}set maxTextures(e){this._maxTextures=e}clear(){this._cacheHolder.clear()}_assignRGB(e,t){return new Promise(a=>{let r,s=\"rbg\"+JSON.stringify(t);this._cacheHolder.materialCache.has(s)?r=this._cacheHolder.materialCache.get(s):(r=new THREE.MeshStandardMaterial({color:t}),this._environmentLoader.setEnvMap(r),this._cacheHolder.materialCache.set(s,r)),this.changeMaterialOfMesh(e,r),setTimeout(()=>a(),0)})}_assignItem(e,t){return new Promise((a,r)=>{if(this._cacheHolder.materialCache.has(t))return this.changeMaterialOfMesh(e,this._cacheHolder.materialCache.get(t)),void a();this._rapiAccess.getItem(t).then(s=>{if(s.topImage)this._textureLoader.load(s.topImage,r=>{r.anisotropy=this._maxAnisotropy,r.wrapS=THREE.RepeatWrapping,r.wrapT=THREE.RepeatWrapping;let i=new THREE.Vector2(1,1);s.width>0&&(i.x=1/s.width),s.depth>0&&(i.y=1/s.depth),r.repeat.set(i.x,i.y);const o=new THREE.MeshPhysicalMaterial({map:r,roughness:.5,metalness:.1});this._environmentLoader.setEnvMap(o),this._cacheHolder.materialCache.set(t,o),this.changeMaterialOfMesh(e,o),setTimeout(()=>a(),0)});else{const e=\"can not set material, catalog item top image is not set\";console.warn(e),r(e)}},r)})}_generateMesh(e=0,t=null,a,r,s,i,o,h=!1){return this._plannerMeshGenerator.generateMesh(t,a,r,s,i,o)}setMaterialLoadedListener(e){this._materialLoaded=e}removeMaterialLoadedListener(){this._materialLoaded=void 0}}return __decorate([inject],e.prototype,\"_rapiAccess\",void 0),__decorate([inject],e.prototype,\"_environmentLoader\",void 0),__decorate([inject],e.prototype,\"_dataSyncer\",void 0),__decorate([inject],e.prototype,\"_singlePromiseFactory\",void 0),__decorate([inject],e.prototype,\"_cacheHolder\",void 0),__decorate([inject],e.prototype,\"_plannerMeshGenerator\",void 0),e})();class UiCallback{constructor(e){return this._isMute=!1,this._creator_=e,setDescriptor(this,\"_isMute\",{enumerable:!1,writable:!1}),setDescriptor(UiCallback.prototype,\"_setMute\",{enumerable:!1,writable:!1}),setDescriptor(UiCallback.prototype,\"mute\",{enumerable:!1,writable:!1}),setDescriptor(UiCallback.prototype,\"unmute\",{enumerable:!1,writable:!1}),new Proxy(this,this)}_setMute(e){setWriteable(this,\"_isMute\",!0),this._isMute=e,setWriteable(this,\"_isMute\",!1)}mute(){this._setMute(!0)}unmute(){this._setMute(!1)}get(e,t){return this._isMute&&\"function\"==typeof this[t]&&\"on\"===t.substr(0,2)?()=>{}:this[t]}}export{MeshGenerator as M,UiCallback as U};\n//# sourceMappingURL=ui-callback-908e86fb.js.map\n"],"sourceRoot":""}