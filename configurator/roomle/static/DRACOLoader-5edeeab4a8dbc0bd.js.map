{"version":3,"sources":["0"],"names":["THREE","DRACOLoader","manager","Loader","call","this","decoderPath","decoderConfig","decoderBinary","decoderPending","workerLimit","workerPool","workerNextTaskID","workerSourceURL","defaultAttributeIDs","position","normal","color","uv","defaultAttributeTypes","prototype","Object","assign","create","constructor","setDecoderPath","path","setDecoderConfig","config","setWorkerLimit","setVerbosity","console","warn","setDrawMode","setSkipDequantization","load","url","onLoad","onProgress","onError","loader","FileLoader","setPath","setResponseType","crossOrigin","setWithCredentials","buffer","taskConfig","attributeIDs","attributeTypes","useUniqueIDs","decodeGeometry","then","catch","decodeDracoFile","callback","attribute","type","undefined","BYTES_PER_ELEMENT","name","worker","taskKey","JSON","stringify","taskCache","has","cachedTask","get","key","promise","byteLength","Error","taskID","taskCost","geometryPending","_getWorker","_worker","Promise","resolve","reject","_callbacks","postMessage","id","message","_createGeometry","geometry","finally","_releaseTask","set","geometryData","BufferGeometry","index","setIndex","BufferAttribute","array","i","attributes","length","itemSize","setAttribute","_loadLibrary","responseType","preload","_initDecoder","useJS","WebAssembly","librariesPending","push","all","libraries","jsContent","wasmBinary","fn","DRACOWorker","toString","body","substring","indexOf","lastIndexOf","join","URL","createObjectURL","Blob","Worker","_taskCosts","_taskLoad","onmessage","e","data","error","sort","a","b","debug","map","dispose","terminate","decodeAttribute","draco","decoder","dracoGeometry","attributeName","attributeType","dracoArray","numComponents","num_components","numValues","num_points","Float32Array","DracoFloat32Array","GetAttributeFloatForAllPoints","Int8Array","DracoInt8Array","GetAttributeInt8ForAllPoints","Int16Array","DracoInt16Array","GetAttributeInt16ForAllPoints","Int32Array","DracoInt32Array","GetAttributeInt32ForAllPoints","Uint8Array","DracoUInt8Array","GetAttributeUInt8ForAllPoints","Uint16Array","DracoUInt16Array","GetAttributeUInt16ForAllPoints","Uint32Array","DracoUInt32Array","GetAttributeUInt32ForAllPoints","GetValue","destroy","onModuleLoaded","DracoDecoderModule","module","Decoder","decoderBuffer","DecoderBuffer","Init","decodingStatus","geometryType","GetEncodedGeometryType","TRIANGULAR_MESH","Mesh","DecodeBufferToMesh","POINT_CLOUD","PointCloud","DecodeBufferToPointCloud","ok","ptr","error_msg","attributeID","self","GetAttributeByUniqueId","GetAttributeId","GetAttribute","numFaces","num_faces","indexArray","GetFaceFromMesh","j","buffers","attr","WeakMap","releaseDecoderModule","getDecoderModule"],"mappings":"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"}